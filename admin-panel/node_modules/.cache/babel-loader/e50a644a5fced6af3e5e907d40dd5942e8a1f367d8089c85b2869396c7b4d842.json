{"ast":null,"code":"import _objectSpread from\"/Users/kitkamon/Cursor/evep-my-firstcare-com/admin-panel/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/Users/kitkamon/Cursor/evep-my-firstcare-com/admin-panel/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";const _excluded=[\"children\",\"value\",\"index\"];import React,{useState,useEffect}from'react';import{Box,Typography,Card,CardContent,Button,Dialog,DialogTitle,DialogContent,DialogActions,TextField,Chip,Grid,Alert,CircularProgress,Snackbar,LinearProgress,Avatar,IconButton,Tabs,Tab,Grow,Fab,MenuItem,FormControl,InputLabel,Select,AlertTitle,FormHelperText,InputAdornment,Table,TableBody,TableCell,TableContainer,TableHead,TableRow}from'@mui/material';import{Psychology,Add,Warning,Search,Analytics,AutoAwesome,Psychology as PsychologyIcon,Visibility,ViewModule,TableChart,Download,Refresh,Notifications}from'@mui/icons-material';import{generateHealthRecommendation,getPatientStats,getAllPatients,getPatientReadings}from'../api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TabPanel(props){const{children,value,index}=props,other=_objectWithoutProperties(props,_excluded);return/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread({role:\"tabpanel\",hidden:value!==index,id:\"health-tabpanel-\".concat(index),\"aria-labelledby\":\"health-tab-\".concat(index)},other),{},{children:value===index&&/*#__PURE__*/_jsx(Box,{sx:{p:3},children:children})}));}const AIHealthAssistant=()=>{var _patients$find,_patients$find2,_patients$find3,_patients$find4,_patients$find4$displ,_patients$find5,_formData$dtx_data4,_formData$dtx_data5,_formData$dtx_data6,_formData$dtx_data7;const[recommendations,setRecommendations]=useState([]);const[loading,setLoading]=useState(false);const[dialogOpen,setDialogOpen]=useState(false);const[activeTab,setActiveTab]=useState(0);const[viewMode,setViewMode]=useState('cards');const[sortBy,setSortBy]=useState('date');const[filterStatus,setFilterStatus]=useState('all');const[searchTerm,setSearchTerm]=useState('');const[formData,setFormData]=useState({user_id:'',dtx_data:{average_glucose:0,glucose_variability:0,total_readings:0,in_range_percentage:0,min_glucose:0,max_glucose:0,time_in_range:0,time_above_range:0,time_below_range:0},a1c_level:0,medical_history:[],recommendations:{glucose:'',lifestyle:'',medication:'',diet:'',exercise:'',sleep:'',stress:'',monitoring:''},confidence:0,next_follow_up:new Date().toISOString().split('T')[0],risk_score:0,trend_analysis:{glucose_trend:'stable',a1c_trend:'stable',compliance_score:0},ai_insights:{patterns:[],alerts:[],predictions:[],personalized_tips:[]}});const[error,setError]=useState(null);const[success,setSuccess]=useState(null);const[validationErrors,setValidationErrors]=useState({});const[isGenerating,setIsGenerating]=useState(false);const[generationProgress,setGenerationProgress]=useState(0);const[patients,setPatients]=useState([]);const[patientStats,setPatientStats]=useState(null);const[patientReadings,setPatientReadings]=useState([]);// Load patients and data\nuseEffect(()=>{loadPatients();},[]);const loadPatients=async()=>{try{setLoading(true);const response=await getAllPatients({limit:100});setPatients(response.data.items||[]);}catch(error){console.error('Error loading patients:',error);setError('Failed to load patients');}finally{setLoading(false);}};const loadPatientData=async userId=>{try{setLoading(true);// Load patient stats\nconst statsResponse=await getPatientStats(userId);setPatientStats(statsResponse.data);// Load DTX readings\nconst readingsResponse=await getPatientReadings(userId,{limit:50});setPatientReadings(readingsResponse.data.items||[]);}catch(error){console.error('Error loading patient data:',error);setError('Failed to load patient data');}finally{setLoading(false);}};const getA1CStatus=a1c=>{if(a1c<5.7)return{status:'Normal',color:'success',severity:'low'};if(a1c<6.5)return{status:'Prediabetes',color:'warning',severity:'medium'};return{status:'Diabetes',color:'error',severity:'high'};};const getGlucoseStatus=glucose=>{if(glucose<70)return{status:'Low',color:'error',severity:'high'};if(glucose>180)return{status:'High',color:'error',severity:'high'};if(glucose>140)return{status:'Elevated',color:'warning',severity:'medium'};return{status:'Normal',color:'success',severity:'low'};};const validateForm=()=>{var _formData$user_id,_formData$dtx_data,_formData$dtx_data2,_formData$dtx_data3;const errors={};if(!((_formData$user_id=formData.user_id)!==null&&_formData$user_id!==void 0&&_formData$user_id.trim())){errors.user_id='User ID is required';}if(!((_formData$dtx_data=formData.dtx_data)!==null&&_formData$dtx_data!==void 0&&_formData$dtx_data.average_glucose)||formData.dtx_data.average_glucose<=0){errors.average_glucose='Valid average glucose is required';}if(!((_formData$dtx_data2=formData.dtx_data)!==null&&_formData$dtx_data2!==void 0&&_formData$dtx_data2.total_readings)||formData.dtx_data.total_readings<=0){errors.total_readings='Valid total readings count is required';}if(!formData.a1c_level||formData.a1c_level<=0){errors.a1c_level='Valid A1C level is required';}if(((_formData$dtx_data3=formData.dtx_data)===null||_formData$dtx_data3===void 0?void 0:_formData$dtx_data3.in_range_percentage)!==undefined&&(formData.dtx_data.in_range_percentage<0||formData.dtx_data.in_range_percentage>100)){errors.in_range_percentage='In range percentage must be between 0-100%';}if(!formData.next_follow_up){errors.next_follow_up='Next follow-up date is required';}setValidationErrors(errors);return Object.keys(errors).length===0;};const handleGenerateRecommendation=async()=>{if(!validateForm()){setError('Please fix the validation errors before generating recommendation');return;}try{setIsGenerating(true);setGenerationProgress(0);setError(null);// Simulate progress updates\nconst progressInterval=setInterval(()=>{setGenerationProgress(prev=>{if(prev>=90){clearInterval(progressInterval);return 90;}return prev+10;});},200);const response=await generateHealthRecommendation(formData);clearInterval(progressInterval);setGenerationProgress(100);setTimeout(()=>{setSuccess('Health recommendation generated successfully!');setDialogOpen(false);setIsGenerating(false);setGenerationProgress(0);// Add to recommendations list\nsetRecommendations(prev=>[response.data,...prev]);},500);}catch(err){var _err$response,_err$response$data;console.error('Generation error:',err);const errorMessage=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.detail)||err.message||'Failed to generate health recommendation';setError(errorMessage);setIsGenerating(false);setGenerationProgress(0);}};const handleOpenDialog=patient=>{if(patient){// Pre-fill form with patient data\nsetFormData({user_id:patient.line_user_id,dtx_data:{average_glucose:0,glucose_variability:0,total_readings:patient.total_readings||0,in_range_percentage:0,min_glucose:0,max_glucose:0,time_in_range:0,time_above_range:0,time_below_range:0},a1c_level:0,medical_history:[],recommendations:{glucose:'',lifestyle:'',medication:'',diet:'',exercise:'',sleep:'',stress:'',monitoring:''},confidence:0,next_follow_up:new Date().toISOString().split('T')[0],risk_score:0,trend_analysis:{glucose_trend:'stable',a1c_trend:'stable',compliance_score:0},ai_insights:{patterns:[],alerts:[],predictions:[],personalized_tips:[]}});// Load patient data\nloadPatientData(patient.line_user_id);}else{setFormData({user_id:'',dtx_data:{average_glucose:0,glucose_variability:0,total_readings:0,in_range_percentage:0,min_glucose:0,max_glucose:0,time_in_range:0,time_above_range:0,time_below_range:0},a1c_level:0,medical_history:[],recommendations:{glucose:'',lifestyle:'',medication:'',diet:'',exercise:'',sleep:'',stress:'',monitoring:''},confidence:0,next_follow_up:new Date().toISOString().split('T')[0],risk_score:0,trend_analysis:{glucose_trend:'stable',a1c_trend:'stable',compliance_score:0},ai_insights:{patterns:[],alerts:[],predictions:[],personalized_tips:[]}});}setDialogOpen(true);};const handleCloseDialog=()=>{setDialogOpen(false);};// Alert Action Handlers\nconst handleExportData=()=>{const dataStr=JSON.stringify(recommendations,null,2);const dataBlob=new Blob([dataStr],{type:'application/json'});const url=URL.createObjectURL(dataBlob);const link=document.createElement('a');link.href=url;link.download=\"health-recommendations-\".concat(new Date().toISOString().split('T')[0],\".json\");link.click();URL.revokeObjectURL(url);setSuccess('Data exported successfully!');};const handleRefreshData=async()=>{try{setLoading(true);// In a real implementation, this would fetch fresh data from the server\nawait new Promise(resolve=>setTimeout(resolve,1000));// Simulate API call\nsetSuccess('Data refreshed successfully!');}catch(error){setError('Failed to refresh data');}finally{setLoading(false);}};const handleSendNotifications=()=>{const allAlerts=recommendations.flatMap(rec=>{var _rec$ai_insights;return((_rec$ai_insights=rec.ai_insights)===null||_rec$ai_insights===void 0?void 0:_rec$ai_insights.alerts)||[];});if(allAlerts.length>0){setSuccess(\"Notifications sent for \".concat(allAlerts.length,\" alerts\"));}else{setSuccess('No alerts to notify');}};const filteredPatients=patients.filter(patient=>(patient.display_name||patient.line_user_id).toLowerCase().includes(searchTerm.toLowerCase())&&(filterStatus==='all'||filterStatus==='high_risk'&&(patient.a1c_estimate||0)>6.5||filterStatus==='improving'&&(patient.in_range_percentage||0)>=70||filterStatus==='stable'&&(patient.in_range_percentage||0)>=50&&(patient.in_range_percentage||0)<70)).sort((a,b)=>{switch(sortBy){case'date':return new Date(b.created_at||'').getTime()-new Date(a.created_at||'').getTime();case'confidence':return(b.total_readings||0)-(a.total_readings||0);case'risk':return(b.a1c_estimate||0)-(a.a1c_estimate||0);default:return 0;}});return/*#__PURE__*/_jsxs(Box,{sx:{p:{xs:2,md:4},minHeight:'100vh',background:'linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)'},children:[/*#__PURE__*/_jsxs(Box,{sx:{mb:4,display:'flex',alignItems:'center',gap:3,background:'white',p:3,borderRadius:3,boxShadow:'0 4px 12px rgba(0,0,0,0.08)',border:'1px solid rgba(0,0,0,0.05)'},children:[/*#__PURE__*/_jsx(Avatar,{sx:{bgcolor:'primary.main',width:64,height:64,boxShadow:'0 4px 16px rgba(25, 118, 210, 0.3)'},children:/*#__PURE__*/_jsx(PsychologyIcon,{sx:{fontSize:36}})}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",sx:{fontWeight:700,mb:1,background:'linear-gradient(135deg, #1e293b 0%, #334155 100%)',backgroundClip:'text',WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent'},children:\"AI Health Assistant\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",sx:{fontSize:'1.1rem'},children:\"Advanced AI-powered health recommendations and analytics\"})]})]}),error&&/*#__PURE__*/_jsxs(Alert,{severity:\"error\",sx:{mb:3},onClose:()=>setError(null),children:[/*#__PURE__*/_jsx(AlertTitle,{children:\"Error\"}),error]}),success&&/*#__PURE__*/_jsxs(Alert,{severity:\"success\",sx:{mb:3},onClose:()=>setSuccess(null),children:[/*#__PURE__*/_jsx(AlertTitle,{children:\"Success\"}),success]}),patients.length>0&&/*#__PURE__*/_jsx(Card,{sx:{mb:3,background:'linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)',border:'1px solid #3b82f6',borderRadius:3},children:/*#__PURE__*/_jsxs(CardContent,{sx:{p:3},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:2,mb:2},children:[/*#__PURE__*/_jsx(Analytics,{sx:{fontSize:28,color:'#1e40af'}}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{fontWeight:600,color:'#1e40af'},children:\"\\uD83D\\uDCCA Patient Data Overview\"})]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",sx:{mb:3,color:'#1e40af',fontWeight:500},children:[patients.length,\" patients found with \",patients.reduce((sum,p)=>sum+(p.total_readings||0),0),\" total glucose readings.\"]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:2,flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(Button,{size:\"medium\",variant:\"contained\",color:\"primary\",onClick:()=>setViewMode('cards'),sx:{borderRadius:2,textTransform:'none',fontWeight:600,boxShadow:'0 4px 12px rgba(59, 130, 246, 0.3)'},children:\"View All Patients\"}),/*#__PURE__*/_jsx(Button,{size:\"medium\",variant:\"outlined\",onClick:loadPatients,sx:{borderRadius:2,textTransform:'none',fontWeight:600,borderColor:'#3b82f6',color:'#1e40af'},children:\"Refresh Data\"})]})]})}),/*#__PURE__*/_jsx(Card,{sx:{mb:3,background:'white',borderRadius:3,boxShadow:'0 4px 16px rgba(0,0,0,0.08)',border:'1px solid rgba(0,0,0,0.05)'},children:/*#__PURE__*/_jsx(CardContent,{sx:{p:3},children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,alignItems:\"center\",children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:3,children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:2,mb:1},children:[/*#__PURE__*/_jsx(ViewModule,{sx:{fontSize:24,color:'primary.main'}}),/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",sx:{fontWeight:600,color:'#1e293b'},children:[\"Patient Data (\",patients.length,\")\"]})]}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{lineHeight:1.6},children:\"Real patient data and AI-powered health insights\"})]}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:9,children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:2,flexWrap:'wrap',justifyContent:{xs:'flex-start',md:'flex-end'},flexDirection:{xs:'column',sm:'row'}},children:[/*#__PURE__*/_jsx(TextField,{size:\"small\",placeholder:\"Search by user ID...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),InputProps:{startAdornment:/*#__PURE__*/_jsx(Search,{sx:{mr:1,color:'text.secondary'}})},sx:{minWidth:200}}),/*#__PURE__*/_jsxs(FormControl,{size:\"small\",sx:{minWidth:120},children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Status\"}),/*#__PURE__*/_jsxs(Select,{value:filterStatus,onChange:e=>setFilterStatus(e.target.value),label:\"Status\",children:[/*#__PURE__*/_jsx(MenuItem,{value:\"all\",children:\"All Patients\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"high_risk\",children:\"High A1C (>6.5%)\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"improving\",children:\"Good Control (\\u226570%)\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"stable\",children:\"Fair Control (50-70%)\"})]})]}),/*#__PURE__*/_jsxs(FormControl,{size:\"small\",sx:{minWidth:120},children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Sort By\"}),/*#__PURE__*/_jsxs(Select,{value:sortBy,onChange:e=>setSortBy(e.target.value),label:\"Sort By\",children:[/*#__PURE__*/_jsx(MenuItem,{value:\"date\",children:\"Join Date\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"confidence\",children:\"Readings Count\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"risk\",children:\"A1C Level\"})]})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',border:1,borderColor:'divider',borderRadius:1},children:[/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>setViewMode('cards'),color:viewMode==='cards'?'primary':'default',children:/*#__PURE__*/_jsx(ViewModule,{})}),/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>setViewMode('table'),color:viewMode==='table'?'primary':'default',children:/*#__PURE__*/_jsx(TableChart,{})}),/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>setViewMode('analytics'),color:viewMode==='analytics'?'primary':'default',children:/*#__PURE__*/_jsx(Analytics,{})})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:1},children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(Refresh,{}),onClick:handleRefreshData,disabled:loading,children:\"Refresh\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(Download,{}),onClick:handleExportData,children:\"Export\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(Notifications,{}),onClick:handleSendNotifications,children:\"Notify\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",startIcon:/*#__PURE__*/_jsx(Add,{}),onClick:handleOpenDialog,sx:{minWidth:200},children:\"Generate New Recommendation\"})]})]})})]})})}),viewMode==='cards'&&/*#__PURE__*/_jsx(Grid,{container:true,spacing:3,children:filteredPatients.map((patient,index)=>{const a1cStatus=getA1CStatus(patient.a1c_estimate||0);const glucoseStatus=getGlucoseStatus(patient.average_glucose||0);return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,lg:6,children:/*#__PURE__*/_jsx(Grow,{in:true,timeout:300+index*100,children:/*#__PURE__*/_jsxs(Card,{sx:{height:'100%',position:'relative',overflow:'visible'},children:[/*#__PURE__*/_jsx(Box,{sx:{position:'absolute',top:-10,right:20,zIndex:1},children:/*#__PURE__*/_jsx(Chip,{label:patient.total_readings>0?'Active Patient':'No Data',color:patient.total_readings>0?'success':'default',size:\"small\",icon:/*#__PURE__*/_jsx(Warning,{})})}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'flex-start',mb:2},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:2},children:[/*#__PURE__*/_jsx(Avatar,{src:patient.picture_url,alt:patient.display_name||patient.line_user_id,sx:{width:56,height:56,bgcolor:patient.picture_url?'transparent':'primary.main',fontSize:'1.25rem',fontWeight:600,boxShadow:'0 2px 8px rgba(0,0,0,0.1)'},children:(patient.display_name||patient.line_user_id).charAt(0).toUpperCase()}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{fontWeight:600,mb:0.5,color:'#1e293b'},children:patient.display_name||patient.line_user_id}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{color:'#64748b',fontWeight:500},children:[\"Patient ID: \",patient.line_user_id]}),patient.created_at&&/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{color:'#64748b',fontWeight:500},children:[\"Joined: \",new Date(patient.created_at).toLocaleDateString()]})]})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:1},children:[patient.a1c_estimate&&/*#__PURE__*/_jsx(Chip,{label:\"A1C: \".concat(patient.a1c_estimate,\"%\"),color:a1cStatus.color,size:\"small\",variant:\"outlined\"}),patient.average_glucose&&/*#__PURE__*/_jsx(Chip,{label:\"Glucose: \".concat(patient.average_glucose,\" mg/dL\"),color:glucoseStatus.color,size:\"small\",variant:\"outlined\"})]})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,sx:{mb:3},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center',p:1,bgcolor:'grey.50',borderRadius:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"primary\",children:patient.total_readings||0}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",children:\"Total Readings\"})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center',p:1,bgcolor:'grey.50',borderRadius:1},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",color:\"primary\",children:[patient.in_range_percentage||0,\"%\"]}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",children:\"Time in Range\"})]})})]}),patientReadings.length>0&&/*#__PURE__*/_jsxs(Box,{sx:{mb:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",sx:{fontWeight:600,mb:1,color:'#1e293b'},children:\"\\uD83D\\uDCCA Recent DTX Readings\"}),/*#__PURE__*/_jsx(Box,{sx:{maxHeight:120,overflowY:'auto'},children:patientReadings.slice(0,5).map((reading,index)=>/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',p:1,mb:0.5,bgcolor:'grey.50',borderRadius:1,border:'1px solid rgba(0,0,0,0.05)'},children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{fontWeight:500},children:[reading.value_mg_dl||'N/A',\" mg/dL\"]}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",children:reading.measured_at?new Date(reading.measured_at).toLocaleDateString():'No date'})]}),/*#__PURE__*/_jsx(Chip,{label:reading.value_mg_dl?reading.value_mg_dl<70?'Low':reading.value_mg_dl>180?'High':'Normal':'N/A',color:reading.value_mg_dl?reading.value_mg_dl<70?'error':reading.value_mg_dl>180?'error':'success':'default',size:\"small\",variant:\"outlined\"})]},index))}),patientReadings.length>5&&/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",color:\"text.secondary\",sx:{fontStyle:'italic'},children:[\"+\",patientReadings.length-5,\" more readings...\"]})]}),patient.email&&/*#__PURE__*/_jsx(Box,{sx:{mb:2},children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[\"\\uD83D\\uDCE7 \",patient.email]})}),patient.phone_number&&/*#__PURE__*/_jsx(Box,{sx:{mb:2},children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[\"\\uD83D\\uDCDE \",patient.phone_number]})}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:1,mt:2},children:[/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(Visibility,{}),onClick:()=>handleOpenDialog(patient),fullWidth:true,children:\"Generate AI Recommendation\"}),/*#__PURE__*/_jsx(IconButton,{size:\"small\",color:\"primary\",onClick:()=>loadPatientData(patient.line_user_id),children:/*#__PURE__*/_jsx(Refresh,{})})]})]})]})})},patient.line_user_id||index);})}),viewMode==='table'&&/*#__PURE__*/_jsx(Card,{sx:{background:'white',borderRadius:3,boxShadow:'0 4px 16px rgba(0,0,0,0.08)',border:'1px solid rgba(0,0,0,0.05)',overflow:'hidden'},children:/*#__PURE__*/_jsx(TableContainer,{children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{sx:{backgroundColor:'#f8fafc'},children:[/*#__PURE__*/_jsx(TableCell,{sx:{fontWeight:600,color:'#334155',borderBottom:'2px solid #e2e8f0'},children:\"Photo\"}),/*#__PURE__*/_jsx(TableCell,{sx:{fontWeight:600,color:'#334155',borderBottom:'2px solid #e2e8f0'},children:\"Patient Name\"}),/*#__PURE__*/_jsx(TableCell,{sx:{fontWeight:600,color:'#334155',borderBottom:'2px solid #e2e8f0'},children:\"Patient ID\"}),/*#__PURE__*/_jsx(TableCell,{sx:{fontWeight:600,color:'#334155',borderBottom:'2px solid #e2e8f0'},children:\"A1C Level\"}),/*#__PURE__*/_jsx(TableCell,{sx:{fontWeight:600,color:'#334155',borderBottom:'2px solid #e2e8f0'},children:\"Avg Glucose\"}),/*#__PURE__*/_jsx(TableCell,{sx:{fontWeight:600,color:'#334155',borderBottom:'2px solid #e2e8f0'},children:\"Total Readings\"}),/*#__PURE__*/_jsx(TableCell,{sx:{fontWeight:600,color:'#334155',borderBottom:'2px solid #e2e8f0'},children:\"Time in Range\"}),/*#__PURE__*/_jsx(TableCell,{sx:{fontWeight:600,color:'#334155',borderBottom:'2px solid #e2e8f0'},children:\"Recent DTX\"}),/*#__PURE__*/_jsx(TableCell,{sx:{fontWeight:600,color:'#334155',borderBottom:'2px solid #e2e8f0'},children:\"Status\"}),/*#__PURE__*/_jsx(TableCell,{align:\"right\",sx:{fontWeight:600,color:'#334155',borderBottom:'2px solid #e2e8f0'},children:\"Actions\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:filteredPatients.map(patient=>{var _patientReadings$,_patientReadings$2;const a1cStatus=getA1CStatus(patient.a1c_estimate||0);const glucoseStatus=getGlucoseStatus(patient.average_glucose||0);return/*#__PURE__*/_jsxs(TableRow,{hover:true,children:[/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Avatar,{src:patient.picture_url,alt:patient.display_name||patient.line_user_id,sx:{width:40,height:40,bgcolor:patient.picture_url?'transparent':'primary.main',fontSize:'0.875rem',fontWeight:600},children:(patient.display_name||patient.line_user_id).charAt(0).toUpperCase()})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{fontWeight:600,color:'#1e293b'},children:patient.display_name||patient.line_user_id})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{color:'#64748b',fontWeight:500},children:patient.line_user_id})}),/*#__PURE__*/_jsx(TableCell,{children:patient.a1c_estimate?/*#__PURE__*/_jsx(Chip,{label:\"\".concat(patient.a1c_estimate,\"%\"),color:a1cStatus.color,size:\"small\",variant:\"outlined\"}):/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"N/A\"})}),/*#__PURE__*/_jsx(TableCell,{children:patient.average_glucose?/*#__PURE__*/_jsx(Chip,{label:\"\".concat(patient.average_glucose,\" mg/dL\"),color:glucoseStatus.color,size:\"small\",variant:\"outlined\"}):/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"N/A\"})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{fontWeight:500},children:patient.total_readings||0})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{fontWeight:500},children:[patient.in_range_percentage||0,\"%\"]})}),/*#__PURE__*/_jsx(TableCell,{children:patientReadings.length>0&&(_patientReadings$=patientReadings[0])!==null&&_patientReadings$!==void 0&&_patientReadings$.value_mg_dl?/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{fontWeight:500,fontSize:'0.875rem'},children:[patientReadings[0].value_mg_dl,\" mg/dL\"]}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",children:(_patientReadings$2=patientReadings[0])!==null&&_patientReadings$2!==void 0&&_patientReadings$2.measured_at?new Date(patientReadings[0].measured_at).toLocaleDateString():'No date'})]}):/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"No readings\"})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Chip,{label:patient.total_readings>0?'Active':'No Data',color:patient.total_readings>0?'success':'default',size:\"small\"})}),/*#__PURE__*/_jsxs(TableCell,{align:\"right\",children:[/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>handleOpenDialog(patient),color:\"primary\",children:/*#__PURE__*/_jsx(Visibility,{})}),/*#__PURE__*/_jsx(IconButton,{size:\"small\",onClick:()=>loadPatientData(patient.line_user_id),color:\"primary\",children:/*#__PURE__*/_jsx(Refresh,{})})]})]},patient.line_user_id);})})]})})}),viewMode==='analytics'&&/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Card,{sx:{background:'white',borderRadius:3,boxShadow:'0 4px 16px rgba(0,0,0,0.08)',border:'1px solid rgba(0,0,0,0.05)'},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{mb:3,fontWeight:600,color:'#1e293b'},children:\"\\uD83D\\uDCCA Patient Analytics Summary\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center',p:2,bgcolor:'#f0f9ff',borderRadius:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"primary\",sx:{fontWeight:700},children:patients.length}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Total Patients\"})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center',p:2,bgcolor:'#f0fdf4',borderRadius:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"success.main\",sx:{fontWeight:700},children:patients.filter(p=>p.total_readings>0).length}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Active Patients\"})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center',p:2,bgcolor:'#fef3c7',borderRadius:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"warning.main\",sx:{fontWeight:700},children:patients.filter(p=>(p.a1c_estimate||0)>6.5).length}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"High A1C (>6.5%)\"})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center',p:2,bgcolor:'#fef2f2',borderRadius:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"error.main\",sx:{fontWeight:700},children:patients.filter(p=>p.total_readings===0).length}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"No Data\"})]})})]})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(Card,{sx:{background:'white',borderRadius:3,boxShadow:'0 4px 16px rgba(0,0,0,0.08)',border:'1px solid rgba(0,0,0,0.05)'},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{mb:3,fontWeight:600,color:'#1e293b'},children:\"\\uD83D\\uDCC8 A1C Level Distribution\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center',p:2,bgcolor:'#f0fdf4',borderRadius:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",color:\"success.main\",sx:{fontWeight:700},children:patients.filter(p=>(p.a1c_estimate||0)<5.7).length}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Normal (<5.7%)\"})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center',p:2,bgcolor:'#fef3c7',borderRadius:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",color:\"warning.main\",sx:{fontWeight:700},children:patients.filter(p=>(p.a1c_estimate||0)>=5.7&&(p.a1c_estimate||0)<6.5).length}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Prediabetes\"})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center',p:2,bgcolor:'#fef2f2',borderRadius:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",color:\"error.main\",sx:{fontWeight:700},children:patients.filter(p=>(p.a1c_estimate||0)>=6.5).length}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Diabetes (\\u22656.5%)\"})]})})]})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(Card,{sx:{background:'white',borderRadius:3,boxShadow:'0 4px 16px rgba(0,0,0,0.08)',border:'1px solid rgba(0,0,0,0.05)'},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{mb:3,fontWeight:600,color:'#1e293b'},children:\"\\uD83C\\uDFAF Glucose Control Status\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center',p:2,bgcolor:'#f0fdf4',borderRadius:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",color:\"success.main\",sx:{fontWeight:700},children:patients.filter(p=>(p.in_range_percentage||0)>=70).length}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Good Control (\\u226570%)\"})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center',p:2,bgcolor:'#fef3c7',borderRadius:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",color:\"warning.main\",sx:{fontWeight:700},children:patients.filter(p=>(p.in_range_percentage||0)>=50&&(p.in_range_percentage||0)<70).length}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Fair Control (50-70%)\"})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:4,children:/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center',p:2,bgcolor:'#fef2f2',borderRadius:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",color:\"error.main\",sx:{fontWeight:700},children:patients.filter(p=>(p.in_range_percentage||0)<50).length}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Poor Control (<50%)\"})]})})]})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Card,{sx:{background:'white',borderRadius:3,boxShadow:'0 4px 16px rgba(0,0,0,0.08)',border:'1px solid rgba(0,0,0,0.05)'},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{mb:3,fontWeight:600,color:'#1e293b'},children:\"\\uD83D\\uDCCA Total Readings Summary\"}),/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center',p:3,bgcolor:'#f8fafc',borderRadius:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",color:\"primary\",sx:{fontWeight:700,mb:1},children:patients.reduce((sum,p)=>sum+(p.total_readings||0),0)}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",children:\"Total Glucose Readings Across All Patients\"})]})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Card,{sx:{background:'white',borderRadius:3,boxShadow:'0 4px 16px rgba(0,0,0,0.08)',border:'1px solid rgba(0,0,0,0.05)'},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{mb:3,fontWeight:600,color:'#1e293b'},children:\"\\uD83D\\uDCC8 DTX Readings Analytics\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center',p:2,bgcolor:'#f0f9ff',borderRadius:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"primary\",sx:{fontWeight:700},children:patientReadings.length}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Recent DTX Readings\"})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center',p:2,bgcolor:'#f0fdf4',borderRadius:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"success.main\",sx:{fontWeight:700},children:patientReadings.filter(r=>r.value_mg_dl>=70&&r.value_mg_dl<=180).length}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Normal Range Readings\"})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center',p:2,bgcolor:'#fef2f2',borderRadius:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"error.main\",sx:{fontWeight:700},children:patientReadings.filter(r=>r.value_mg_dl<70||r.value_mg_dl>180).length}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Out of Range Readings\"})]})})]}),patientReadings.length>0&&/*#__PURE__*/_jsxs(Box,{sx:{mt:3,p:2,bgcolor:'#f8fafc',borderRadius:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",sx:{mb:2,fontWeight:600},children:\"\\uD83D\\uDCCA Recent DTX Readings Timeline\"}),/*#__PURE__*/_jsx(Box,{sx:{maxHeight:200,overflowY:'auto'},children:patientReadings.slice(0,10).map((reading,index)=>/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',p:1,mb:1,bgcolor:'white',borderRadius:1,border:'1px solid rgba(0,0,0,0.05)'},children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{fontWeight:500},children:[reading.value_mg_dl,\" mg/dL\"]}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",children:new Date(reading.measured_at).toLocaleString()})]}),/*#__PURE__*/_jsx(Chip,{label:reading.value_mg_dl<70?'Low':reading.value_mg_dl>180?'High':'Normal',color:reading.value_mg_dl<70?'error':reading.value_mg_dl>180?'error':'success',size:\"small\",variant:\"outlined\"})]},index))})]})]})})})]}),/*#__PURE__*/_jsxs(Dialog,{open:dialogOpen,onClose:handleCloseDialog,maxWidth:\"md\",fullWidth:true,children:[/*#__PURE__*/_jsx(DialogTitle,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:2},children:[/*#__PURE__*/_jsx(Psychology,{color:\"primary\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Generate AI Health Recommendation\"})]})}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsxs(Tabs,{value:activeTab,onChange:(_,newValue)=>setActiveTab(newValue),sx:{mb:3},children:[/*#__PURE__*/_jsx(Tab,{label:\"Basic Info\"}),/*#__PURE__*/_jsx(Tab,{label:\"Advanced Data\"})]}),/*#__PURE__*/_jsx(TabPanel,{value:activeTab,index:0,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Select Patient\"}),/*#__PURE__*/_jsxs(Select,{value:formData.user_id,onChange:e=>{const selectedUserId=e.target.value;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{user_id:selectedUserId}));if(selectedUserId){loadPatientData(selectedUserId);}},label:\"Select Patient\",error:!!validationErrors.user_id,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:/*#__PURE__*/_jsx(\"em\",{children:\"Select a patient...\"})}),patients.map(patient=>/*#__PURE__*/_jsx(MenuItem,{value:patient.line_user_id,children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:2,width:'100%'},children:[/*#__PURE__*/_jsx(Avatar,{src:patient.picture_url,alt:patient.display_name||patient.line_user_id,sx:{width:32,height:32,bgcolor:patient.picture_url?'transparent':'primary.main',fontSize:'0.75rem',fontWeight:600},children:(patient.display_name||patient.line_user_id).charAt(0).toUpperCase()}),/*#__PURE__*/_jsxs(Box,{sx:{flex:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{fontWeight:600,color:'#1e293b'},children:patient.display_name||patient.line_user_id}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",sx:{color:'#64748b',fontWeight:500},children:patient.total_readings?\"\".concat(patient.total_readings,\" readings\"):'No readings'})]})]})},patient.line_user_id))]}),validationErrors.user_id&&/*#__PURE__*/_jsx(FormHelperText,{error:true,children:validationErrors.user_id})]})}),formData.user_id&&/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Card,{variant:\"outlined\",sx:{p:2,bgcolor:'#f0f9ff'},children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:2,mb:2},children:[/*#__PURE__*/_jsx(Avatar,{src:(_patients$find=patients.find(p=>p.line_user_id===formData.user_id))===null||_patients$find===void 0?void 0:_patients$find.picture_url,alt:(_patients$find2=patients.find(p=>p.line_user_id===formData.user_id))===null||_patients$find2===void 0?void 0:_patients$find2.display_name,sx:{width:48,height:48,bgcolor:(_patients$find3=patients.find(p=>p.line_user_id===formData.user_id))!==null&&_patients$find3!==void 0&&_patients$find3.picture_url?'transparent':'primary.main',fontSize:'1rem',fontWeight:600},children:((_patients$find4=patients.find(p=>p.line_user_id===formData.user_id))===null||_patients$find4===void 0?void 0:(_patients$find4$displ=_patients$find4.display_name)===null||_patients$find4$displ===void 0?void 0:_patients$find4$displ.charAt(0).toUpperCase())||'P'}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{fontWeight:600,color:'#1e293b'},children:((_patients$find5=patients.find(p=>p.line_user_id===formData.user_id))===null||_patients$find5===void 0?void 0:_patients$find5.display_name)||'Selected Patient'}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{color:'#64748b',fontWeight:500},children:[\"ID: \",formData.user_id]})]})]})})}),patientStats&&/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Card,{variant:\"outlined\",sx:{p:2,bgcolor:'grey.50'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{mb:2},children:\"Patient Statistics\"}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:6,md:3,children:/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"primary\",children:patientStats.average_glucose}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",children:\"Avg Glucose (mg/dL)\"})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,md:3,children:/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center'},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",color:\"primary\",children:[patientStats.a1c_estimate,\"%\"]}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",children:\"A1C Estimate\"})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,md:3,children:/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"primary\",children:patientStats.total_readings}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",children:\"Total Readings\"})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,md:3,children:/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center'},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",color:\"primary\",children:[patientStats.in_range_percentage,\"%\"]}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",children:\"Time in Range\"})]})})]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{mb:2},children:\"DTX Data\"})}),patientReadings.length>0&&/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Card,{variant:\"outlined\",sx:{p:2,bgcolor:'#f8fafc'},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"subtitle1\",sx:{mb:2,fontWeight:600},children:[\"\\uD83D\\uDCCA Recent DTX Readings (\",patientReadings.length,\" readings)\"]}),/*#__PURE__*/_jsx(Box,{sx:{maxHeight:150,overflowY:'auto'},children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:1,children:patientReadings.slice(0,6).map((reading,index)=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,children:/*#__PURE__*/_jsxs(Box,{sx:{p:1,bgcolor:'white',borderRadius:1,border:'1px solid rgba(0,0,0,0.1)',textAlign:'center'},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",sx:{fontWeight:600,color:'primary.main'},children:[reading.value_mg_dl,\" mg/dL\"]}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",children:new Date(reading.measured_at).toLocaleDateString()}),/*#__PURE__*/_jsx(Chip,{label:reading.value_mg_dl<70?'Low':reading.value_mg_dl>180?'High':'Normal',color:reading.value_mg_dl<70?'error':reading.value_mg_dl>180?'error':'success',size:\"small\",sx:{mt:0.5}})]})},index))})})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Average Glucose (mg/dL)\",type:\"number\",value:(patientStats===null||patientStats===void 0?void 0:patientStats.average_glucose)||((_formData$dtx_data4=formData.dtx_data)===null||_formData$dtx_data4===void 0?void 0:_formData$dtx_data4.average_glucose)||0,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{dtx_data:_objectSpread(_objectSpread({},prev.dtx_data),{},{average_glucose:parseFloat(e.target.value)||0})})),error:!!validationErrors.average_glucose,helperText:validationErrors.average_glucose||\"Average glucose from patient data\",inputProps:{min:0,max:1000},InputProps:{readOnly:!!(patientStats!==null&&patientStats!==void 0&&patientStats.average_glucose),endAdornment:patientStats!==null&&patientStats!==void 0&&patientStats.average_glucose?/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:\"From DB\"}):null}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Glucose Variability (mg/dL)\",type:\"number\",value:((_formData$dtx_data5=formData.dtx_data)===null||_formData$dtx_data5===void 0?void 0:_formData$dtx_data5.glucose_variability)||0,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{dtx_data:_objectSpread(_objectSpread({},prev.dtx_data),{},{glucose_variability:parseFloat(e.target.value)||0})}))})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Total Readings\",type:\"number\",value:((_formData$dtx_data6=formData.dtx_data)===null||_formData$dtx_data6===void 0?void 0:_formData$dtx_data6.total_readings)||0,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{dtx_data:_objectSpread(_objectSpread({},prev.dtx_data),{},{total_readings:parseInt(e.target.value)||0})}))})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"In Range Percentage (%)\",type:\"number\",value:((_formData$dtx_data7=formData.dtx_data)===null||_formData$dtx_data7===void 0?void 0:_formData$dtx_data7.in_range_percentage)||0,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{dtx_data:_objectSpread(_objectSpread({},prev.dtx_data),{},{in_range_percentage:parseFloat(e.target.value)||0})})),inputProps:{min:0,max:100}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"A1C Level (%)\",type:\"number\",value:(patientStats===null||patientStats===void 0?void 0:patientStats.a1c_estimate)||formData.a1c_level||0,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{a1c_level:parseFloat(e.target.value)||0})),inputProps:{step:0.1,min:0,max:20},helperText:patientStats!==null&&patientStats!==void 0&&patientStats.a1c_estimate?\"A1C estimate from patient data\":\"Enter A1C level\",InputProps:{readOnly:!!(patientStats!==null&&patientStats!==void 0&&patientStats.a1c_estimate),endAdornment:patientStats!==null&&patientStats!==void 0&&patientStats.a1c_estimate?/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:\"From DB\"}):null}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Next Follow-up Date\",type:\"date\",value:formData.next_follow_up||'',onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{next_follow_up:e.target.value})),InputLabelProps:{shrink:true}})})]})}),/*#__PURE__*/_jsx(TabPanel,{value:activeTab,index:1,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{mb:2},children:\"Advanced data collection for enhanced AI analysis\"})})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleCloseDialog,disabled:isGenerating,children:\"Cancel\"}),isGenerating&&/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:2,flex:1},children:[/*#__PURE__*/_jsx(LinearProgress,{variant:\"determinate\",value:generationProgress,sx:{flex:1}}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[generationProgress,\"%\"]})]}),/*#__PURE__*/_jsx(Button,{onClick:handleGenerateRecommendation,variant:\"contained\",disabled:isGenerating||!formData.user_id,startIcon:isGenerating?/*#__PURE__*/_jsx(CircularProgress,{size:20}):/*#__PURE__*/_jsx(AutoAwesome,{}),children:isGenerating?'Generating...':'Generate Recommendation'})]})]}),/*#__PURE__*/_jsx(Fab,{color:\"primary\",\"aria-label\":\"add\",sx:{position:'fixed',bottom:16,right:16},onClick:handleOpenDialog,children:/*#__PURE__*/_jsx(Add,{})}),/*#__PURE__*/_jsx(Snackbar,{open:!!success,autoHideDuration:6000,onClose:()=>setSuccess(null),children:/*#__PURE__*/_jsx(Alert,{severity:\"success\",onClose:()=>setSuccess(null),children:success})})]});};export default AIHealthAssistant;","map":{"version":3,"names":["React","useState","useEffect","Box","Typography","Card","CardContent","Button","Dialog","DialogTitle","DialogContent","DialogActions","TextField","Chip","Grid","Alert","CircularProgress","Snackbar","LinearProgress","Avatar","IconButton","Tabs","Tab","Grow","Fab","MenuItem","FormControl","InputLabel","Select","AlertTitle","FormHelperText","InputAdornment","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Psychology","Add","Warning","Search","Analytics","AutoAwesome","PsychologyIcon","Visibility","ViewModule","TableChart","Download","Refresh","Notifications","generateHealthRecommendation","getPatientStats","getAllPatients","getPatientReadings","jsx","_jsx","jsxs","_jsxs","TabPanel","props","children","value","index","other","_objectWithoutProperties","_excluded","_objectSpread","role","hidden","id","concat","sx","p","AIHealthAssistant","_patients$find","_patients$find2","_patients$find3","_patients$find4","_patients$find4$displ","_patients$find5","_formData$dtx_data4","_formData$dtx_data5","_formData$dtx_data6","_formData$dtx_data7","recommendations","setRecommendations","loading","setLoading","dialogOpen","setDialogOpen","activeTab","setActiveTab","viewMode","setViewMode","sortBy","setSortBy","filterStatus","setFilterStatus","searchTerm","setSearchTerm","formData","setFormData","user_id","dtx_data","average_glucose","glucose_variability","total_readings","in_range_percentage","min_glucose","max_glucose","time_in_range","time_above_range","time_below_range","a1c_level","medical_history","glucose","lifestyle","medication","diet","exercise","sleep","stress","monitoring","confidence","next_follow_up","Date","toISOString","split","risk_score","trend_analysis","glucose_trend","a1c_trend","compliance_score","ai_insights","patterns","alerts","predictions","personalized_tips","error","setError","success","setSuccess","validationErrors","setValidationErrors","isGenerating","setIsGenerating","generationProgress","setGenerationProgress","patients","setPatients","patientStats","setPatientStats","patientReadings","setPatientReadings","loadPatients","response","limit","data","items","console","loadPatientData","userId","statsResponse","readingsResponse","getA1CStatus","a1c","status","color","severity","getGlucoseStatus","validateForm","_formData$user_id","_formData$dtx_data","_formData$dtx_data2","_formData$dtx_data3","errors","trim","undefined","Object","keys","length","handleGenerateRecommendation","progressInterval","setInterval","prev","clearInterval","setTimeout","err","_err$response","_err$response$data","errorMessage","detail","message","handleOpenDialog","patient","line_user_id","handleCloseDialog","handleExportData","dataStr","JSON","stringify","dataBlob","Blob","type","url","URL","createObjectURL","link","document","createElement","href","download","click","revokeObjectURL","handleRefreshData","Promise","resolve","handleSendNotifications","allAlerts","flatMap","rec","_rec$ai_insights","filteredPatients","filter","display_name","toLowerCase","includes","a1c_estimate","sort","a","b","created_at","getTime","xs","md","minHeight","background","mb","display","alignItems","gap","borderRadius","boxShadow","border","bgcolor","width","height","fontSize","variant","fontWeight","backgroundClip","WebkitBackgroundClip","WebkitTextFillColor","onClose","reduce","sum","flexWrap","size","onClick","textTransform","borderColor","container","spacing","item","lineHeight","justifyContent","flexDirection","sm","placeholder","onChange","e","target","InputProps","startAdornment","mr","minWidth","label","startIcon","disabled","map","a1cStatus","glucoseStatus","lg","in","timeout","position","overflow","top","right","zIndex","icon","src","picture_url","alt","charAt","toUpperCase","toLocaleDateString","textAlign","maxHeight","overflowY","slice","reading","value_mg_dl","measured_at","fontStyle","email","phone_number","mt","fullWidth","backgroundColor","borderBottom","align","_patientReadings$","_patientReadings$2","hover","r","toLocaleString","open","maxWidth","_","newValue","selectedUserId","flex","find","parseFloat","helperText","inputProps","min","max","readOnly","endAdornment","parseInt","step","InputLabelProps","shrink","bottom","autoHideDuration"],"sources":["/Users/kitkamon/Cursor/evep-my-firstcare-com/admin-panel/src/components/line-bot/AIHealthAssistant.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Box,\n  Typography,\n  Card,\n  CardContent,\n  Button,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  TextField,\n  Chip,\n  Grid,\n  Alert,\n  CircularProgress,\n  Snackbar,\n  LinearProgress,\n  Avatar,\n  IconButton,\n  Tabs,\n  Tab,\n  Grow,\n  Fab,\n  MenuItem,\n  FormControl,\n  InputLabel,\n  Select,\n  AlertTitle,\n  FormHelperText,\n  InputAdornment,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow\n} from '@mui/material';\nimport {\n  Psychology,\n  Add,\n\n  Warning,\n  Search,\n\n  Analytics,\n  AutoAwesome,\n  Psychology as PsychologyIcon,\n  Visibility,\n  ViewModule,\n  TableChart,\n  Download,\n  Refresh,\n  Notifications\n} from '@mui/icons-material';\nimport { \n  generateHealthRecommendation, \n  getPatientStats, \n  getAllPatients,\n  getPatientReadings\n} from '../api';\n\ninterface HealthRecommendation {\n  id?: string;\n  user_id: string;\n  dtx_data: {\n    average_glucose: number;\n    glucose_variability: number;\n    total_readings: number;\n    in_range_percentage: number;\n    min_glucose?: number;\n    max_glucose?: number;\n    time_in_range?: number;\n    time_above_range?: number;\n    time_below_range?: number;\n  };\n  a1c_level: number;\n  medical_history: Array<{\n    date: string;\n    type: string;\n    value: number;\n    notes: string;\n  }>;\n  recommendations: {\n    glucose: string;\n    lifestyle: string;\n    medication: string;\n    diet: string;\n    exercise: string;\n    sleep?: string;\n    stress?: string;\n    monitoring?: string;\n  };\n  confidence: number;\n  next_follow_up: string;\n  created_at?: string;\n  risk_score?: number;\n  trend_analysis?: {\n    glucose_trend: 'improving' | 'stable' | 'declining';\n    a1c_trend: 'improving' | 'stable' | 'declining';\n    compliance_score: number;\n  };\n  ai_insights?: {\n    patterns: string[];\n    alerts: string[];\n    predictions: string[];\n    personalized_tips: string[];\n  };\n}\n\ninterface TabPanelProps {\n  children?: React.ReactNode;\n  index: number;\n  value: number;\n}\n\nfunction TabPanel(props: TabPanelProps) {\n  const { children, value, index, ...other } = props;\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`health-tabpanel-${index}`}\n      aria-labelledby={`health-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box sx={{ p: 3 }}>{children}</Box>}\n    </div>\n  );\n}\n\nconst AIHealthAssistant: React.FC = () => {\n  const [recommendations, setRecommendations] = useState<HealthRecommendation[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [activeTab, setActiveTab] = useState(0);\n  const [viewMode, setViewMode] = useState<'cards' | 'table' | 'analytics'>('cards');\n  const [sortBy, setSortBy] = useState<'date' | 'confidence' | 'risk'>('date');\n  const [filterStatus, setFilterStatus] = useState<'all' | 'high_risk' | 'improving' | 'stable'>('all');\n  const [searchTerm, setSearchTerm] = useState('');\n\n\n  const [formData, setFormData] = useState<Partial<HealthRecommendation>>({\n    user_id: '',\n    dtx_data: {\n      average_glucose: 0,\n      glucose_variability: 0,\n      total_readings: 0,\n      in_range_percentage: 0,\n      min_glucose: 0,\n      max_glucose: 0,\n      time_in_range: 0,\n      time_above_range: 0,\n      time_below_range: 0\n    },\n    a1c_level: 0,\n    medical_history: [],\n    recommendations: {\n      glucose: '',\n      lifestyle: '',\n      medication: '',\n      diet: '',\n      exercise: '',\n      sleep: '',\n      stress: '',\n      monitoring: ''\n    },\n    confidence: 0,\n    next_follow_up: new Date().toISOString().split('T')[0],\n    risk_score: 0,\n    trend_analysis: {\n      glucose_trend: 'stable',\n      a1c_trend: 'stable',\n      compliance_score: 0\n    },\n    ai_insights: {\n      patterns: [],\n      alerts: [],\n      predictions: [],\n      personalized_tips: []\n    }\n  });\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<string | null>(null);\n\n  const [validationErrors, setValidationErrors] = useState<{[key: string]: string}>({});\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [generationProgress, setGenerationProgress] = useState(0);\n  const [patients, setPatients] = useState<any[]>([]);\n  const [patientStats, setPatientStats] = useState<any>(null);\n  const [patientReadings, setPatientReadings] = useState<any[]>([]);\n\n  // Load patients and data\n  useEffect(() => {\n    loadPatients();\n  }, []);\n\n  const loadPatients = async () => {\n    try {\n      setLoading(true);\n      const response = await getAllPatients({ limit: 100 });\n      setPatients(response.data.items || []);\n    } catch (error: any) {\n      console.error('Error loading patients:', error);\n      setError('Failed to load patients');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadPatientData = async (userId: string) => {\n    try {\n      setLoading(true);\n      \n      // Load patient stats\n      const statsResponse = await getPatientStats(userId);\n      setPatientStats(statsResponse.data);\n      \n      // Load DTX readings\n      const readingsResponse = await getPatientReadings(userId, { limit: 50 });\n      setPatientReadings(readingsResponse.data.items || []);\n      \n    } catch (error: any) {\n      console.error('Error loading patient data:', error);\n      setError('Failed to load patient data');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getA1CStatus = (a1c: number) => {\n    if (a1c < 5.7) return { status: 'Normal', color: 'success' as const, severity: 'low' };\n    if (a1c < 6.5) return { status: 'Prediabetes', color: 'warning' as const, severity: 'medium' };\n    return { status: 'Diabetes', color: 'error' as const, severity: 'high' };\n  };\n\n  const getGlucoseStatus = (glucose: number) => {\n    if (glucose < 70) return { status: 'Low', color: 'error' as const, severity: 'high' };\n    if (glucose > 180) return { status: 'High', color: 'error' as const, severity: 'high' };\n    if (glucose > 140) return { status: 'Elevated', color: 'warning' as const, severity: 'medium' };\n    return { status: 'Normal', color: 'success' as const, severity: 'low' };\n  };\n\n\n\n\n\n  const validateForm = (): boolean => {\n    const errors: {[key: string]: string} = {};\n    \n    if (!formData.user_id?.trim()) {\n      errors.user_id = 'User ID is required';\n    }\n    \n    if (!formData.dtx_data?.average_glucose || formData.dtx_data.average_glucose <= 0) {\n      errors.average_glucose = 'Valid average glucose is required';\n    }\n    \n    if (!formData.dtx_data?.total_readings || formData.dtx_data.total_readings <= 0) {\n      errors.total_readings = 'Valid total readings count is required';\n    }\n    \n    if (!formData.a1c_level || formData.a1c_level <= 0) {\n      errors.a1c_level = 'Valid A1C level is required';\n    }\n    \n    if (formData.dtx_data?.in_range_percentage !== undefined && \n        (formData.dtx_data.in_range_percentage < 0 || formData.dtx_data.in_range_percentage > 100)) {\n      errors.in_range_percentage = 'In range percentage must be between 0-100%';\n    }\n    \n    if (!formData.next_follow_up) {\n      errors.next_follow_up = 'Next follow-up date is required';\n    }\n    \n    setValidationErrors(errors);\n    return Object.keys(errors).length === 0;\n  };\n\n  const handleGenerateRecommendation = async () => {\n    if (!validateForm()) {\n      setError('Please fix the validation errors before generating recommendation');\n      return;\n    }\n    \n    try {\n      setIsGenerating(true);\n      setGenerationProgress(0);\n      setError(null);\n      \n      // Simulate progress updates\n      const progressInterval = setInterval(() => {\n        setGenerationProgress(prev => {\n          if (prev >= 90) {\n            clearInterval(progressInterval);\n            return 90;\n          }\n          return prev + 10;\n        });\n      }, 200);\n      \n      const response = await generateHealthRecommendation(formData as HealthRecommendation);\n      \n      clearInterval(progressInterval);\n      setGenerationProgress(100);\n      \n      setTimeout(() => {\n        setSuccess('Health recommendation generated successfully!');\n        setDialogOpen(false);\n        setIsGenerating(false);\n        setGenerationProgress(0);\n        \n        // Add to recommendations list\n        setRecommendations(prev => [response.data, ...prev]);\n      }, 500);\n      \n    } catch (err: any) {\n      console.error('Generation error:', err);\n      const errorMessage = err.response?.data?.detail || err.message || 'Failed to generate health recommendation';\n      setError(errorMessage);\n      setIsGenerating(false);\n      setGenerationProgress(0);\n    }\n  };\n\n  const handleOpenDialog = (patient?: any) => {\n    if (patient) {\n      // Pre-fill form with patient data\n      setFormData({\n        user_id: patient.line_user_id,\n        dtx_data: {\n          average_glucose: 0,\n          glucose_variability: 0,\n          total_readings: patient.total_readings || 0,\n          in_range_percentage: 0,\n          min_glucose: 0,\n          max_glucose: 0,\n          time_in_range: 0,\n          time_above_range: 0,\n          time_below_range: 0\n        },\n        a1c_level: 0,\n        medical_history: [],\n        recommendations: {\n          glucose: '',\n          lifestyle: '',\n          medication: '',\n          diet: '',\n          exercise: '',\n          sleep: '',\n          stress: '',\n          monitoring: ''\n        },\n        confidence: 0,\n        next_follow_up: new Date().toISOString().split('T')[0],\n        risk_score: 0,\n        trend_analysis: {\n          glucose_trend: 'stable',\n          a1c_trend: 'stable',\n          compliance_score: 0\n        },\n        ai_insights: {\n          patterns: [],\n          alerts: [],\n          predictions: [],\n          personalized_tips: []\n        }\n      });\n      \n      // Load patient data\n      loadPatientData(patient.line_user_id);\n    } else {\n      setFormData({\n        user_id: '',\n        dtx_data: {\n          average_glucose: 0,\n          glucose_variability: 0,\n          total_readings: 0,\n          in_range_percentage: 0,\n          min_glucose: 0,\n          max_glucose: 0,\n          time_in_range: 0,\n          time_above_range: 0,\n          time_below_range: 0\n        },\n        a1c_level: 0,\n        medical_history: [],\n        recommendations: {\n          glucose: '',\n          lifestyle: '',\n          medication: '',\n          diet: '',\n          exercise: '',\n          sleep: '',\n          stress: '',\n          monitoring: ''\n        },\n        confidence: 0,\n        next_follow_up: new Date().toISOString().split('T')[0],\n        risk_score: 0,\n        trend_analysis: {\n          glucose_trend: 'stable',\n          a1c_trend: 'stable',\n          compliance_score: 0\n        },\n        ai_insights: {\n          patterns: [],\n          alerts: [],\n          predictions: [],\n          personalized_tips: []\n        }\n      });\n    }\n    setDialogOpen(true);\n  };\n\n  const handleCloseDialog = () => {\n    setDialogOpen(false);\n  };\n\n  // Alert Action Handlers\n\n\n  const handleExportData = () => {\n    const dataStr = JSON.stringify(recommendations, null, 2);\n    const dataBlob = new Blob([dataStr], { type: 'application/json' });\n    const url = URL.createObjectURL(dataBlob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `health-recommendations-${new Date().toISOString().split('T')[0]}.json`;\n    link.click();\n    URL.revokeObjectURL(url);\n    setSuccess('Data exported successfully!');\n  };\n\n  const handleRefreshData = async () => {\n    try {\n      setLoading(true);\n      // In a real implementation, this would fetch fresh data from the server\n      await new Promise(resolve => setTimeout(resolve, 1000)); // Simulate API call\n      setSuccess('Data refreshed successfully!');\n    } catch (error) {\n      setError('Failed to refresh data');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSendNotifications = () => {\n    const allAlerts = recommendations.flatMap(rec => \n      rec.ai_insights?.alerts || []\n    );\n    \n    if (allAlerts.length > 0) {\n      setSuccess(`Notifications sent for ${allAlerts.length} alerts`);\n    } else {\n      setSuccess('No alerts to notify');\n    }\n  };\n\n\n\n\n\n  const filteredPatients = patients\n    .filter(patient => \n      (patient.display_name || patient.line_user_id).toLowerCase().includes(searchTerm.toLowerCase()) &&\n      (filterStatus === 'all' || \n       (filterStatus === 'high_risk' && (patient.a1c_estimate || 0) > 6.5) ||\n       (filterStatus === 'improving' && (patient.in_range_percentage || 0) >= 70) ||\n       (filterStatus === 'stable' && (patient.in_range_percentage || 0) >= 50 && (patient.in_range_percentage || 0) < 70))\n    )\n    .sort((a, b) => {\n      switch (sortBy) {\n        case 'date':\n          return new Date(b.created_at || '').getTime() - new Date(a.created_at || '').getTime();\n        case 'confidence':\n          return (b.total_readings || 0) - (a.total_readings || 0);\n        case 'risk':\n          return (b.a1c_estimate || 0) - (a.a1c_estimate || 0);\n        default:\n          return 0;\n      }\n    });\n\n  return (\n    <Box sx={{ \n      p: { xs: 2, md: 4 }, \n      minHeight: '100vh',\n      background: 'linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)'\n    }}>\n      {/* Header Section */}\n      <Box sx={{ \n        mb: 4, \n        display: 'flex', \n        alignItems: 'center', \n        gap: 3,\n        background: 'white',\n        p: 3,\n        borderRadius: 3,\n        boxShadow: '0 4px 12px rgba(0,0,0,0.08)',\n        border: '1px solid rgba(0,0,0,0.05)'\n      }}>\n        <Avatar sx={{ \n          bgcolor: 'primary.main', \n          width: 64, \n          height: 64,\n          boxShadow: '0 4px 16px rgba(25, 118, 210, 0.3)'\n        }}>\n          <PsychologyIcon sx={{ fontSize: 36 }} />\n        </Avatar>\n        <Box>\n          <Typography variant=\"h4\" sx={{ \n            fontWeight: 700, \n            mb: 1,\n            background: 'linear-gradient(135deg, #1e293b 0%, #334155 100%)',\n            backgroundClip: 'text',\n            WebkitBackgroundClip: 'text',\n            WebkitTextFillColor: 'transparent'\n          }}>\n            AI Health Assistant\n          </Typography>\n          <Typography variant=\"body1\" color=\"text.secondary\" sx={{ fontSize: '1.1rem' }}>\n            Advanced AI-powered health recommendations and analytics\n          </Typography>\n        </Box>\n      </Box>\n\n      {/* Alerts */}\n      {error && (\n        <Alert severity=\"error\" sx={{ mb: 3 }} onClose={() => setError(null)}>\n          <AlertTitle>Error</AlertTitle>\n          {error}\n        </Alert>\n      )}\n\n      {success && (\n        <Alert severity=\"success\" sx={{ mb: 3 }} onClose={() => setSuccess(null)}>\n          <AlertTitle>Success</AlertTitle>\n          {success}\n        </Alert>\n      )}\n\n      {/* Patient Data Summary */}\n      {patients.length > 0 && (\n        <Card sx={{ \n          mb: 3, \n          background: 'linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)',\n          border: '1px solid #3b82f6',\n          borderRadius: 3\n        }}>\n          <CardContent sx={{ p: 3 }}>\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, mb: 2 }}>\n              <Analytics sx={{ fontSize: 28, color: '#1e40af' }} />\n              <Typography variant=\"h6\" sx={{ fontWeight: 600, color: '#1e40af' }}>\n                 Patient Data Overview\n              </Typography>\n            </Box>\n            <Typography variant=\"body1\" sx={{ mb: 3, color: '#1e40af', fontWeight: 500 }}>\n              {patients.length} patients found with {patients.reduce((sum, p) => sum + (p.total_readings || 0), 0)} total glucose readings.\n            </Typography>\n            <Box sx={{ display: 'flex', gap: 2, flexWrap: 'wrap' }}>\n              <Button \n                size=\"medium\" \n                variant=\"contained\" \n                color=\"primary\"\n                onClick={() => setViewMode('cards')}\n                sx={{ \n                  borderRadius: 2,\n                  textTransform: 'none',\n                  fontWeight: 600,\n                  boxShadow: '0 4px 12px rgba(59, 130, 246, 0.3)'\n                }}\n              >\n                View All Patients\n              </Button>\n              <Button \n                size=\"medium\" \n                variant=\"outlined\"\n                onClick={loadPatients}\n                sx={{ \n                  borderRadius: 2,\n                  textTransform: 'none',\n                  fontWeight: 600,\n                  borderColor: '#3b82f6',\n                  color: '#1e40af'\n                }}\n              >\n                Refresh Data\n              </Button>\n            </Box>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Control Panel */}\n      <Card sx={{ \n        mb: 3,\n        background: 'white',\n        borderRadius: 3,\n        boxShadow: '0 4px 16px rgba(0,0,0,0.08)',\n        border: '1px solid rgba(0,0,0,0.05)'\n      }}>\n        <CardContent sx={{ p: 3 }}>\n          <Grid container spacing={3} alignItems=\"center\">\n            <Grid item xs={12} md={3}>\n              <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, mb: 1 }}>\n                <ViewModule sx={{ fontSize: 24, color: 'primary.main' }} />\n                <Typography variant=\"h6\" sx={{ fontWeight: 600, color: '#1e293b' }}>\n                  Patient Data ({patients.length})\n                </Typography>\n              </Box>\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ lineHeight: 1.6 }}>\n                Real patient data and AI-powered health insights\n              </Typography>\n            </Grid>\n            \n                        <Grid item xs={12} md={9}>\n              <Box sx={{ \n                display: 'flex', \n                gap: 2, \n                flexWrap: 'wrap', \n                justifyContent: { xs: 'flex-start', md: 'flex-end' },\n                flexDirection: { xs: 'column', sm: 'row' }\n              }}>\n                {/* Search */}\n                <TextField\n                  size=\"small\"\n                  placeholder=\"Search by user ID...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  InputProps={{\n                    startAdornment: <Search sx={{ mr: 1, color: 'text.secondary' }} />\n                  }}\n                  sx={{ minWidth: 200 }}\n                />\n\n                {/* Filter */}\n                <FormControl size=\"small\" sx={{ minWidth: 120 }}>\n                  <InputLabel>Status</InputLabel>\n                  <Select\n                    value={filterStatus}\n                    onChange={(e) => setFilterStatus(e.target.value as any)}\n                    label=\"Status\"\n                  >\n                    <MenuItem value=\"all\">All Patients</MenuItem>\n                    <MenuItem value=\"high_risk\">High A1C (&gt;6.5%)</MenuItem>\n                    <MenuItem value=\"improving\">Good Control (70%)</MenuItem>\n                    <MenuItem value=\"stable\">Fair Control (50-70%)</MenuItem>\n                  </Select>\n                </FormControl>\n\n                {/* Sort */}\n                <FormControl size=\"small\" sx={{ minWidth: 120 }}>\n                  <InputLabel>Sort By</InputLabel>\n                  <Select\n                    value={sortBy}\n                    onChange={(e) => setSortBy(e.target.value as any)}\n                    label=\"Sort By\"\n                  >\n                    <MenuItem value=\"date\">Join Date</MenuItem>\n                    <MenuItem value=\"confidence\">Readings Count</MenuItem>\n                    <MenuItem value=\"risk\">A1C Level</MenuItem>\n                  </Select>\n                </FormControl>\n\n                {/* View Mode */}\n                <Box sx={{ display: 'flex', border: 1, borderColor: 'divider', borderRadius: 1 }}>\n                  <IconButton\n                    size=\"small\"\n                    onClick={() => setViewMode('cards')}\n                    color={viewMode === 'cards' ? 'primary' : 'default'}\n                  >\n                    <ViewModule />\n                  </IconButton>\n                  <IconButton\n                    size=\"small\"\n                    onClick={() => setViewMode('table')}\n                    color={viewMode === 'table' ? 'primary' : 'default'}\n                  >\n                    <TableChart />\n                  </IconButton>\n                  <IconButton\n                    size=\"small\"\n                    onClick={() => setViewMode('analytics')}\n                    color={viewMode === 'analytics' ? 'primary' : 'default'}\n                  >\n                    <Analytics />\n                  </IconButton>\n                </Box>\n\n                {/* Action Buttons */}\n                <Box sx={{ display: 'flex', gap: 1 }}>\n                  <Button\n                    variant=\"outlined\"\n                    startIcon={<Refresh />}\n                    onClick={handleRefreshData}\n                    disabled={loading}\n                  >\n                    Refresh\n                  </Button>\n                  <Button\n                    variant=\"outlined\"\n                    startIcon={<Download />}\n                    onClick={handleExportData}\n                  >\n                    Export\n                  </Button>\n                  <Button\n                    variant=\"outlined\"\n                    startIcon={<Notifications />}\n                    onClick={handleSendNotifications}\n                  >\n                    Notify\n                  </Button>\n                  <Button\n                    variant=\"contained\"\n                    startIcon={<Add />}\n                    onClick={handleOpenDialog}\n                    sx={{ minWidth: 200 }}\n                  >\n                    Generate New Recommendation\n                  </Button>\n                </Box>\n              </Box>\n            </Grid>\n          </Grid>\n        </CardContent>\n      </Card>\n\n      {/* Content Area */}\n      {viewMode === 'cards' && (\n        <Grid container spacing={3}>\n          {filteredPatients.map((patient, index) => {\n            const a1cStatus = getA1CStatus(patient.a1c_estimate || 0);\n            const glucoseStatus = getGlucoseStatus(patient.average_glucose || 0);\n            \n            return (\n              <Grid item xs={12} lg={6} key={patient.line_user_id || index}>\n                <Grow in timeout={300 + index * 100}>\n                  <Card sx={{ height: '100%', position: 'relative', overflow: 'visible' }}>\n                    {/* Risk Level Badge */}\n                    <Box sx={{ position: 'absolute', top: -10, right: 20, zIndex: 1 }}>\n                      <Chip\n                        label={patient.total_readings > 0 ? 'Active Patient' : 'No Data'}\n                        color={patient.total_readings > 0 ? 'success' : 'default'}\n                        size=\"small\"\n                        icon={<Warning />}\n                      />\n                    </Box>\n\n                    <CardContent>\n                      {/* Header */}\n                      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', mb: 2 }}>\n                        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\n                          <Avatar\n                            src={patient.picture_url}\n                            alt={patient.display_name || patient.line_user_id}\n                            sx={{ \n                              width: 56, \n                              height: 56,\n                              bgcolor: patient.picture_url ? 'transparent' : 'primary.main',\n                              fontSize: '1.25rem',\n                              fontWeight: 600,\n                              boxShadow: '0 2px 8px rgba(0,0,0,0.1)'\n                            }}\n                          >\n                            {(patient.display_name || patient.line_user_id).charAt(0).toUpperCase()}\n                          </Avatar>\n                          <Box>\n                            <Typography variant=\"h6\" sx={{ fontWeight: 600, mb: 0.5, color: '#1e293b' }}>\n                              {patient.display_name || patient.line_user_id}\n                            </Typography>\n                            <Typography variant=\"body2\" sx={{ color: '#64748b', fontWeight: 500 }}>\n                              Patient ID: {patient.line_user_id}\n                            </Typography>\n                            {patient.created_at && (\n                              <Typography variant=\"body2\" sx={{ color: '#64748b', fontWeight: 500 }}>\n                                Joined: {new Date(patient.created_at).toLocaleDateString()}\n                              </Typography>\n                            )}\n                          </Box>\n                        </Box>\n                        <Box sx={{ display: 'flex', gap: 1 }}>\n                          {patient.a1c_estimate && (\n                            <Chip\n                              label={`A1C: ${patient.a1c_estimate}%`}\n                              color={a1cStatus.color}\n                              size=\"small\"\n                              variant=\"outlined\"\n                            />\n                          )}\n                          {patient.average_glucose && (\n                            <Chip\n                              label={`Glucose: ${patient.average_glucose} mg/dL`}\n                              color={glucoseStatus.color}\n                              size=\"small\"\n                              variant=\"outlined\"\n                            />\n                          )}\n                        </Box>\n                      </Box>\n\n                      {/* Key Metrics */}\n                      <Grid container spacing={2} sx={{ mb: 3 }}>\n                        <Grid item xs={6}>\n                          <Box sx={{ textAlign: 'center', p: 1, bgcolor: 'grey.50', borderRadius: 1 }}>\n                            <Typography variant=\"h6\" color=\"primary\">\n                              {patient.total_readings || 0}\n                            </Typography>\n                            <Typography variant=\"caption\" color=\"text.secondary\">\n                              Total Readings\n                            </Typography>\n                          </Box>\n                        </Grid>\n                        <Grid item xs={6}>\n                          <Box sx={{ textAlign: 'center', p: 1, bgcolor: 'grey.50', borderRadius: 1 }}>\n                            <Typography variant=\"h6\" color=\"primary\">\n                              {patient.in_range_percentage || 0}%\n                            </Typography>\n                            <Typography variant=\"caption\" color=\"text.secondary\">\n                              Time in Range\n                            </Typography>\n                          </Box>\n                        </Grid>\n                      </Grid>\n\n                      {/* DTX Readings Preview */}\n                      {patientReadings.length > 0 && (\n                        <Box sx={{ mb: 2 }}>\n                          <Typography variant=\"subtitle2\" sx={{ fontWeight: 600, mb: 1, color: '#1e293b' }}>\n                             Recent DTX Readings\n                          </Typography>\n                          <Box sx={{ maxHeight: 120, overflowY: 'auto' }}>\n                            {patientReadings.slice(0, 5).map((reading: any, index: number) => (\n                              <Box \n                                key={index} \n                                sx={{ \n                                  display: 'flex', \n                                  justifyContent: 'space-between', \n                                  alignItems: 'center',\n                                  p: 1, \n                                  mb: 0.5, \n                                  bgcolor: 'grey.50', \n                                  borderRadius: 1,\n                                  border: '1px solid rgba(0,0,0,0.05)'\n                                }}\n                              >\n                                <Box>\n                                                                <Typography variant=\"body2\" sx={{ fontWeight: 500 }}>\n                                {reading.value_mg_dl || 'N/A'} mg/dL\n                              </Typography>\n                              <Typography variant=\"caption\" color=\"text.secondary\">\n                                {reading.measured_at ? new Date(reading.measured_at).toLocaleDateString() : 'No date'}\n                              </Typography>\n                            </Box>\n                            <Chip\n                              label={reading.value_mg_dl ? (reading.value_mg_dl < 70 ? 'Low' : reading.value_mg_dl > 180 ? 'High' : 'Normal') : 'N/A'}\n                              color={reading.value_mg_dl ? (reading.value_mg_dl < 70 ? 'error' : reading.value_mg_dl > 180 ? 'error' : 'success') : 'default'}\n                                  size=\"small\"\n                                  variant=\"outlined\"\n                                />\n                              </Box>\n                            ))}\n                          </Box>\n                          {patientReadings.length > 5 && (\n                            <Typography variant=\"caption\" color=\"text.secondary\" sx={{ fontStyle: 'italic' }}>\n                              +{patientReadings.length - 5} more readings...\n                            </Typography>\n                          )}\n                        </Box>\n                      )}\n\n                      {/* Patient Info */}\n                      {patient.email && (\n                        <Box sx={{ mb: 2 }}>\n                          <Typography variant=\"body2\" color=\"text.secondary\">\n                             {patient.email}\n                          </Typography>\n                        </Box>\n                      )}\n\n                      {patient.phone_number && (\n                        <Box sx={{ mb: 2 }}>\n                          <Typography variant=\"body2\" color=\"text.secondary\">\n                             {patient.phone_number}\n                          </Typography>\n                        </Box>\n                      )}\n\n                      {/* Actions */}\n                      <Box sx={{ display: 'flex', gap: 1, mt: 2 }}>\n                        <Button\n                          size=\"small\"\n                          variant=\"outlined\"\n                          startIcon={<Visibility />}\n                          onClick={() => handleOpenDialog(patient)}\n                          fullWidth\n                        >\n                          Generate AI Recommendation\n                        </Button>\n                        <IconButton \n                          size=\"small\" \n                          color=\"primary\"\n                          onClick={() => loadPatientData(patient.line_user_id)}\n                        >\n                          <Refresh />\n                        </IconButton>\n                      </Box>\n                    </CardContent>\n                  </Card>\n                </Grow>\n              </Grid>\n            );\n          })}\n        </Grid>\n      )}\n\n      {/* Table View */}\n      {viewMode === 'table' && (\n        <Card sx={{ \n          background: 'white',\n          borderRadius: 3,\n          boxShadow: '0 4px 16px rgba(0,0,0,0.08)',\n          border: '1px solid rgba(0,0,0,0.05)',\n          overflow: 'hidden'\n        }}>\n          <TableContainer>\n            <Table>\n              <TableHead>\n                <TableRow sx={{ backgroundColor: '#f8fafc' }}>\n                  <TableCell sx={{ fontWeight: 600, color: '#334155', borderBottom: '2px solid #e2e8f0' }}>Photo</TableCell>\n                  <TableCell sx={{ fontWeight: 600, color: '#334155', borderBottom: '2px solid #e2e8f0' }}>Patient Name</TableCell>\n                  <TableCell sx={{ fontWeight: 600, color: '#334155', borderBottom: '2px solid #e2e8f0' }}>Patient ID</TableCell>\n                  <TableCell sx={{ fontWeight: 600, color: '#334155', borderBottom: '2px solid #e2e8f0' }}>A1C Level</TableCell>\n                  <TableCell sx={{ fontWeight: 600, color: '#334155', borderBottom: '2px solid #e2e8f0' }}>Avg Glucose</TableCell>\n                  <TableCell sx={{ fontWeight: 600, color: '#334155', borderBottom: '2px solid #e2e8f0' }}>Total Readings</TableCell>\n                  <TableCell sx={{ fontWeight: 600, color: '#334155', borderBottom: '2px solid #e2e8f0' }}>Time in Range</TableCell>\n                  <TableCell sx={{ fontWeight: 600, color: '#334155', borderBottom: '2px solid #e2e8f0' }}>Recent DTX</TableCell>\n                  <TableCell sx={{ fontWeight: 600, color: '#334155', borderBottom: '2px solid #e2e8f0' }}>Status</TableCell>\n                  <TableCell align=\"right\" sx={{ fontWeight: 600, color: '#334155', borderBottom: '2px solid #e2e8f0' }}>Actions</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {filteredPatients.map((patient) => {\n                  const a1cStatus = getA1CStatus(patient.a1c_estimate || 0);\n                  const glucoseStatus = getGlucoseStatus(patient.average_glucose || 0);\n                  \n                  return (\n                    <TableRow key={patient.line_user_id} hover>\n                      <TableCell>\n                        <Avatar\n                          src={patient.picture_url}\n                          alt={patient.display_name || patient.line_user_id}\n                          sx={{ \n                            width: 40, \n                            height: 40,\n                            bgcolor: patient.picture_url ? 'transparent' : 'primary.main',\n                            fontSize: '0.875rem',\n                            fontWeight: 600\n                          }}\n                        >\n                          {(patient.display_name || patient.line_user_id).charAt(0).toUpperCase()}\n                        </Avatar>\n                      </TableCell>\n                      <TableCell>\n                        <Typography variant=\"body2\" sx={{ fontWeight: 600, color: '#1e293b' }}>\n                          {patient.display_name || patient.line_user_id}\n                        </Typography>\n                      </TableCell>\n                      <TableCell>\n                        <Typography variant=\"body2\" sx={{ color: '#64748b', fontWeight: 500 }}>\n                          {patient.line_user_id}\n                        </Typography>\n                      </TableCell>\n                      <TableCell>\n                        {patient.a1c_estimate ? (\n                          <Chip\n                            label={`${patient.a1c_estimate}%`}\n                            color={a1cStatus.color}\n                            size=\"small\"\n                            variant=\"outlined\"\n                          />\n                        ) : (\n                          <Typography variant=\"body2\" color=\"text.secondary\">N/A</Typography>\n                        )}\n                      </TableCell>\n                      <TableCell>\n                        {patient.average_glucose ? (\n                          <Chip\n                            label={`${patient.average_glucose} mg/dL`}\n                            color={glucoseStatus.color}\n                            size=\"small\"\n                            variant=\"outlined\"\n                          />\n                        ) : (\n                          <Typography variant=\"body2\" color=\"text.secondary\">N/A</Typography>\n                        )}\n                      </TableCell>\n                      <TableCell>\n                        <Typography variant=\"body2\" sx={{ fontWeight: 500 }}>\n                          {patient.total_readings || 0}\n                        </Typography>\n                      </TableCell>\n                      <TableCell>\n                        <Typography variant=\"body2\" sx={{ fontWeight: 500 }}>\n                          {patient.in_range_percentage || 0}%\n                        </Typography>\n                      </TableCell>\n                      <TableCell>\n                        {patientReadings.length > 0 && patientReadings[0]?.value_mg_dl ? (\n                          <Box>\n                            <Typography variant=\"body2\" sx={{ fontWeight: 500, fontSize: '0.875rem' }}>\n                              {patientReadings[0].value_mg_dl} mg/dL\n                            </Typography>\n                            <Typography variant=\"caption\" color=\"text.secondary\">\n                              {patientReadings[0]?.measured_at ? new Date(patientReadings[0].measured_at).toLocaleDateString() : 'No date'}\n                            </Typography>\n                          </Box>\n                        ) : (\n                          <Typography variant=\"body2\" color=\"text.secondary\">No readings</Typography>\n                        )}\n                      </TableCell>\n                      <TableCell>\n                        <Chip\n                          label={patient.total_readings > 0 ? 'Active' : 'No Data'}\n                          color={patient.total_readings > 0 ? 'success' : 'default'}\n                          size=\"small\"\n                        />\n                      </TableCell>\n                      <TableCell align=\"right\">\n                        <IconButton\n                          size=\"small\"\n                          onClick={() => handleOpenDialog(patient)}\n                          color=\"primary\"\n                        >\n                          <Visibility />\n                        </IconButton>\n                        <IconButton\n                          size=\"small\"\n                          onClick={() => loadPatientData(patient.line_user_id)}\n                          color=\"primary\"\n                        >\n                          <Refresh />\n                        </IconButton>\n                      </TableCell>\n                    </TableRow>\n                  );\n                })}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </Card>\n      )}\n\n      {/* Analytics View */}\n      {viewMode === 'analytics' && (\n        <Grid container spacing={3}>\n          {/* Summary Statistics */}\n          <Grid item xs={12}>\n            <Card sx={{ \n              background: 'white',\n              borderRadius: 3,\n              boxShadow: '0 4px 16px rgba(0,0,0,0.08)',\n              border: '1px solid rgba(0,0,0,0.05)'\n            }}>\n              <CardContent>\n                <Typography variant=\"h6\" sx={{ mb: 3, fontWeight: 600, color: '#1e293b' }}>\n                   Patient Analytics Summary\n                </Typography>\n                <Grid container spacing={3}>\n                  <Grid item xs={12} sm={6} md={3}>\n                    <Box sx={{ textAlign: 'center', p: 2, bgcolor: '#f0f9ff', borderRadius: 2 }}>\n                      <Typography variant=\"h4\" color=\"primary\" sx={{ fontWeight: 700 }}>\n                        {patients.length}\n                      </Typography>\n                      <Typography variant=\"body2\" color=\"text.secondary\">\n                        Total Patients\n                      </Typography>\n                    </Box>\n                  </Grid>\n                  <Grid item xs={12} sm={6} md={3}>\n                    <Box sx={{ textAlign: 'center', p: 2, bgcolor: '#f0fdf4', borderRadius: 2 }}>\n                      <Typography variant=\"h4\" color=\"success.main\" sx={{ fontWeight: 700 }}>\n                        {patients.filter(p => p.total_readings > 0).length}\n                      </Typography>\n                      <Typography variant=\"body2\" color=\"text.secondary\">\n                        Active Patients\n                      </Typography>\n                    </Box>\n                  </Grid>\n                  <Grid item xs={12} sm={6} md={3}>\n                    <Box sx={{ textAlign: 'center', p: 2, bgcolor: '#fef3c7', borderRadius: 2 }}>\n                      <Typography variant=\"h4\" color=\"warning.main\" sx={{ fontWeight: 700 }}>\n                        {patients.filter(p => (p.a1c_estimate || 0) > 6.5).length}\n                      </Typography>\n                      <Typography variant=\"body2\" color=\"text.secondary\">\n                        High A1C (&gt;6.5%)\n                      </Typography>\n                    </Box>\n                  </Grid>\n                  <Grid item xs={12} sm={6} md={3}>\n                    <Box sx={{ textAlign: 'center', p: 2, bgcolor: '#fef2f2', borderRadius: 2 }}>\n                      <Typography variant=\"h4\" color=\"error.main\" sx={{ fontWeight: 700 }}>\n                        {patients.filter(p => p.total_readings === 0).length}\n                      </Typography>\n                      <Typography variant=\"body2\" color=\"text.secondary\">\n                        No Data\n                      </Typography>\n                    </Box>\n                  </Grid>\n                </Grid>\n              </CardContent>\n            </Card>\n          </Grid>\n\n          {/* A1C Distribution */}\n          <Grid item xs={12} md={6}>\n            <Card sx={{ \n              background: 'white',\n              borderRadius: 3,\n              boxShadow: '0 4px 16px rgba(0,0,0,0.08)',\n              border: '1px solid rgba(0,0,0,0.05)'\n            }}>\n              <CardContent>\n                <Typography variant=\"h6\" sx={{ mb: 3, fontWeight: 600, color: '#1e293b' }}>\n                   A1C Level Distribution\n                </Typography>\n                <Grid container spacing={2}>\n                  <Grid item xs={4}>\n                    <Box sx={{ textAlign: 'center', p: 2, bgcolor: '#f0fdf4', borderRadius: 2 }}>\n                      <Typography variant=\"h5\" color=\"success.main\" sx={{ fontWeight: 700 }}>\n                        {patients.filter(p => (p.a1c_estimate || 0) < 5.7).length}\n                      </Typography>\n                      <Typography variant=\"body2\" color=\"text.secondary\">\n                        Normal (&lt;5.7%)\n                      </Typography>\n                    </Box>\n                  </Grid>\n                  <Grid item xs={4}>\n                    <Box sx={{ textAlign: 'center', p: 2, bgcolor: '#fef3c7', borderRadius: 2 }}>\n                      <Typography variant=\"h5\" color=\"warning.main\" sx={{ fontWeight: 700 }}>\n                        {patients.filter(p => (p.a1c_estimate || 0) >= 5.7 && (p.a1c_estimate || 0) < 6.5).length}\n                      </Typography>\n                      <Typography variant=\"body2\" color=\"text.secondary\">\n                        Prediabetes\n                      </Typography>\n                    </Box>\n                  </Grid>\n                  <Grid item xs={4}>\n                    <Box sx={{ textAlign: 'center', p: 2, bgcolor: '#fef2f2', borderRadius: 2 }}>\n                      <Typography variant=\"h5\" color=\"error.main\" sx={{ fontWeight: 700 }}>\n                        {patients.filter(p => (p.a1c_estimate || 0) >= 6.5).length}\n                      </Typography>\n                      <Typography variant=\"body2\" color=\"text.secondary\">\n                        Diabetes (6.5%)\n                      </Typography>\n                    </Box>\n                  </Grid>\n                </Grid>\n              </CardContent>\n            </Card>\n          </Grid>\n\n          {/* Glucose Control */}\n          <Grid item xs={12} md={6}>\n            <Card sx={{ \n              background: 'white',\n              borderRadius: 3,\n              boxShadow: '0 4px 16px rgba(0,0,0,0.08)',\n              border: '1px solid rgba(0,0,0,0.05)'\n            }}>\n              <CardContent>\n                <Typography variant=\"h6\" sx={{ mb: 3, fontWeight: 600, color: '#1e293b' }}>\n                   Glucose Control Status\n                </Typography>\n                <Grid container spacing={2}>\n                  <Grid item xs={4}>\n                    <Box sx={{ textAlign: 'center', p: 2, bgcolor: '#f0fdf4', borderRadius: 2 }}>\n                      <Typography variant=\"h5\" color=\"success.main\" sx={{ fontWeight: 700 }}>\n                        {patients.filter(p => (p.in_range_percentage || 0) >= 70).length}\n                      </Typography>\n                      <Typography variant=\"body2\" color=\"text.secondary\">\n                        Good Control (70%)\n                      </Typography>\n                    </Box>\n                  </Grid>\n                  <Grid item xs={4}>\n                    <Box sx={{ textAlign: 'center', p: 2, bgcolor: '#fef3c7', borderRadius: 2 }}>\n                      <Typography variant=\"h5\" color=\"warning.main\" sx={{ fontWeight: 700 }}>\n                        {patients.filter(p => (p.in_range_percentage || 0) >= 50 && (p.in_range_percentage || 0) < 70).length}\n                      </Typography>\n                      <Typography variant=\"body2\" color=\"text.secondary\">\n                        Fair Control (50-70%)\n                      </Typography>\n                    </Box>\n                  </Grid>\n                  <Grid item xs={4}>\n                    <Box sx={{ textAlign: 'center', p: 2, bgcolor: '#fef2f2', borderRadius: 2 }}>\n                      <Typography variant=\"h5\" color=\"error.main\" sx={{ fontWeight: 700 }}>\n                        {patients.filter(p => (p.in_range_percentage || 0) < 50).length}\n                      </Typography>\n                      <Typography variant=\"body2\" color=\"text.secondary\">\n                        Poor Control (&lt;50%)\n                      </Typography>\n                    </Box>\n                  </Grid>\n                </Grid>\n              </CardContent>\n            </Card>\n          </Grid>\n\n          {/* Total Readings Summary */}\n          <Grid item xs={12}>\n            <Card sx={{ \n              background: 'white',\n              borderRadius: 3,\n              boxShadow: '0 4px 16px rgba(0,0,0,0.08)',\n              border: '1px solid rgba(0,0,0,0.05)'\n            }}>\n              <CardContent>\n                <Typography variant=\"h6\" sx={{ mb: 3, fontWeight: 600, color: '#1e293b' }}>\n                   Total Readings Summary\n                </Typography>\n                <Box sx={{ textAlign: 'center', p: 3, bgcolor: '#f8fafc', borderRadius: 2 }}>\n                  <Typography variant=\"h3\" color=\"primary\" sx={{ fontWeight: 700, mb: 1 }}>\n                    {patients.reduce((sum, p) => sum + (p.total_readings || 0), 0)}\n                  </Typography>\n                  <Typography variant=\"body1\" color=\"text.secondary\">\n                    Total Glucose Readings Across All Patients\n                  </Typography>\n                </Box>\n              </CardContent>\n            </Card>\n          </Grid>\n\n          {/* DTX Readings Analytics */}\n          <Grid item xs={12}>\n            <Card sx={{ \n              background: 'white',\n              borderRadius: 3,\n              boxShadow: '0 4px 16px rgba(0,0,0,0.08)',\n              border: '1px solid rgba(0,0,0,0.05)'\n            }}>\n              <CardContent>\n                <Typography variant=\"h6\" sx={{ mb: 3, fontWeight: 600, color: '#1e293b' }}>\n                   DTX Readings Analytics\n                </Typography>\n                <Grid container spacing={3}>\n                  <Grid item xs={12} md={4}>\n                    <Box sx={{ textAlign: 'center', p: 2, bgcolor: '#f0f9ff', borderRadius: 2 }}>\n                      <Typography variant=\"h4\" color=\"primary\" sx={{ fontWeight: 700 }}>\n                        {patientReadings.length}\n                      </Typography>\n                      <Typography variant=\"body2\" color=\"text.secondary\">\n                        Recent DTX Readings\n                      </Typography>\n                    </Box>\n                  </Grid>\n                  <Grid item xs={12} md={4}>\n                    <Box sx={{ textAlign: 'center', p: 2, bgcolor: '#f0fdf4', borderRadius: 2 }}>\n                      <Typography variant=\"h4\" color=\"success.main\" sx={{ fontWeight: 700 }}>\n                        {patientReadings.filter(r => r.value_mg_dl >= 70 && r.value_mg_dl <= 180).length}\n                      </Typography>\n                      <Typography variant=\"body2\" color=\"text.secondary\">\n                        Normal Range Readings\n                      </Typography>\n                    </Box>\n                  </Grid>\n                  <Grid item xs={12} md={4}>\n                    <Box sx={{ textAlign: 'center', p: 2, bgcolor: '#fef2f2', borderRadius: 2 }}>\n                      <Typography variant=\"h4\" color=\"error.main\" sx={{ fontWeight: 700 }}>\n                        {patientReadings.filter(r => r.value_mg_dl < 70 || r.value_mg_dl > 180).length}\n                      </Typography>\n                      <Typography variant=\"body2\" color=\"text.secondary\">\n                        Out of Range Readings\n                      </Typography>\n                    </Box>\n                  </Grid>\n                </Grid>\n                {patientReadings.length > 0 && (\n                  <Box sx={{ mt: 3, p: 2, bgcolor: '#f8fafc', borderRadius: 2 }}>\n                    <Typography variant=\"subtitle2\" sx={{ mb: 2, fontWeight: 600 }}>\n                       Recent DTX Readings Timeline\n                    </Typography>\n                    <Box sx={{ maxHeight: 200, overflowY: 'auto' }}>\n                      {patientReadings.slice(0, 10).map((reading: any, index: number) => (\n                        <Box \n                          key={index} \n                          sx={{ \n                            display: 'flex', \n                            justifyContent: 'space-between', \n                            alignItems: 'center',\n                            p: 1, \n                            mb: 1, \n                            bgcolor: 'white', \n                            borderRadius: 1,\n                            border: '1px solid rgba(0,0,0,0.05)'\n                          }}\n                        >\n                          <Box>\n                            <Typography variant=\"body2\" sx={{ fontWeight: 500 }}>\n                              {reading.value_mg_dl} mg/dL\n                            </Typography>\n                            <Typography variant=\"caption\" color=\"text.secondary\">\n                              {new Date(reading.measured_at).toLocaleString()}\n                            </Typography>\n                          </Box>\n                          <Chip\n                            label={reading.value_mg_dl < 70 ? 'Low' : reading.value_mg_dl > 180 ? 'High' : 'Normal'}\n                            color={reading.value_mg_dl < 70 ? 'error' : reading.value_mg_dl > 180 ? 'error' : 'success'}\n                            size=\"small\"\n                            variant=\"outlined\"\n                          />\n                        </Box>\n                      ))}\n                    </Box>\n                  </Box>\n                )}\n              </CardContent>\n            </Card>\n          </Grid>\n        </Grid>\n      )}\n\n      {/* Generate Recommendation Dialog */}\n      <Dialog open={dialogOpen} onClose={handleCloseDialog} maxWidth=\"md\" fullWidth>\n        <DialogTitle>\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\n            <Psychology color=\"primary\" />\n            <Typography variant=\"h6\">\n              Generate AI Health Recommendation\n            </Typography>\n          </Box>\n        </DialogTitle>\n        <DialogContent>\n          <Tabs value={activeTab} onChange={(_, newValue) => setActiveTab(newValue)} sx={{ mb: 3 }}>\n            <Tab label=\"Basic Info\" />\n            <Tab label=\"Advanced Data\" />\n          </Tabs>\n\n          <TabPanel value={activeTab} index={0}>\n            <Grid container spacing={3}>\n              <Grid item xs={12}>\n                <FormControl fullWidth>\n                  <InputLabel>Select Patient</InputLabel>\n                  <Select\n                    value={formData.user_id}\n                    onChange={(e) => {\n                      const selectedUserId = e.target.value;\n                      setFormData(prev => ({ ...prev, user_id: selectedUserId }));\n                      if (selectedUserId) {\n                        loadPatientData(selectedUserId);\n                      }\n                    }}\n                    label=\"Select Patient\"\n                    error={!!validationErrors.user_id}\n                  >\n                    <MenuItem value=\"\">\n                      <em>Select a patient...</em>\n                    </MenuItem>\n                    {patients.map((patient) => (\n                      <MenuItem key={patient.line_user_id} value={patient.line_user_id}>\n                        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, width: '100%' }}>\n                          <Avatar\n                            src={patient.picture_url}\n                            alt={patient.display_name || patient.line_user_id}\n                            sx={{ \n                              width: 32, \n                              height: 32,\n                              bgcolor: patient.picture_url ? 'transparent' : 'primary.main',\n                              fontSize: '0.75rem',\n                              fontWeight: 600\n                            }}\n                          >\n                            {(patient.display_name || patient.line_user_id).charAt(0).toUpperCase()}\n                          </Avatar>\n                          <Box sx={{ flex: 1 }}>\n                            <Typography variant=\"body2\" sx={{ fontWeight: 600, color: '#1e293b' }}>\n                              {patient.display_name || patient.line_user_id}\n                            </Typography>\n                            <Typography variant=\"caption\" sx={{ color: '#64748b', fontWeight: 500 }}>\n                              {patient.total_readings ? `${patient.total_readings} readings` : 'No readings'}\n                            </Typography>\n                          </Box>\n                        </Box>\n                      </MenuItem>\n                    ))}\n                  </Select>\n                  {validationErrors.user_id && (\n                    <FormHelperText error>{validationErrors.user_id}</FormHelperText>\n                  )}\n                </FormControl>\n              </Grid>\n\n              {/* Selected Patient Profile */}\n              {formData.user_id && (\n                <Grid item xs={12}>\n                  <Card variant=\"outlined\" sx={{ p: 2, bgcolor: '#f0f9ff' }}>\n                    <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, mb: 2 }}>\n                      <Avatar\n                        src={patients.find(p => p.line_user_id === formData.user_id)?.picture_url}\n                        alt={patients.find(p => p.line_user_id === formData.user_id)?.display_name}\n                        sx={{ \n                          width: 48, \n                          height: 48,\n                          bgcolor: patients.find(p => p.line_user_id === formData.user_id)?.picture_url ? 'transparent' : 'primary.main',\n                          fontSize: '1rem',\n                          fontWeight: 600\n                        }}\n                      >\n                        {patients.find(p => p.line_user_id === formData.user_id)?.display_name?.charAt(0).toUpperCase() || 'P'}\n                      </Avatar>\n                      <Box>\n                        <Typography variant=\"h6\" sx={{ fontWeight: 600, color: '#1e293b' }}>\n                          {patients.find(p => p.line_user_id === formData.user_id)?.display_name || 'Selected Patient'}\n                        </Typography>\n                        <Typography variant=\"body2\" sx={{ color: '#64748b', fontWeight: 500 }}>\n                          ID: {formData.user_id}\n                        </Typography>\n                      </Box>\n                    </Box>\n                  </Card>\n                </Grid>\n              )}\n\n              {patientStats && (\n                <Grid item xs={12}>\n                  <Card variant=\"outlined\" sx={{ p: 2, bgcolor: 'grey.50' }}>\n                    <Typography variant=\"h6\" sx={{ mb: 2 }}>Patient Statistics</Typography>\n                    <Grid container spacing={2}>\n                      <Grid item xs={6} md={3}>\n                        <Box sx={{ textAlign: 'center' }}>\n                          <Typography variant=\"h4\" color=\"primary\">\n                            {patientStats.average_glucose}\n                          </Typography>\n                          <Typography variant=\"caption\">Avg Glucose (mg/dL)</Typography>\n                        </Box>\n                      </Grid>\n                      <Grid item xs={6} md={3}>\n                        <Box sx={{ textAlign: 'center' }}>\n                          <Typography variant=\"h4\" color=\"primary\">\n                            {patientStats.a1c_estimate}%\n                          </Typography>\n                          <Typography variant=\"caption\">A1C Estimate</Typography>\n                        </Box>\n                      </Grid>\n                      <Grid item xs={6} md={3}>\n                        <Box sx={{ textAlign: 'center' }}>\n                          <Typography variant=\"h4\" color=\"primary\">\n                            {patientStats.total_readings}\n                          </Typography>\n                          <Typography variant=\"caption\">Total Readings</Typography>\n                        </Box>\n                      </Grid>\n                      <Grid item xs={6} md={3}>\n                        <Box sx={{ textAlign: 'center' }}>\n                          <Typography variant=\"h4\" color=\"primary\">\n                            {patientStats.in_range_percentage}%\n                          </Typography>\n                          <Typography variant=\"caption\">Time in Range</Typography>\n                        </Box>\n                      </Grid>\n                    </Grid>\n                  </Card>\n                </Grid>\n              )}\n\n              <Grid item xs={12}>\n                <Typography variant=\"h6\" sx={{ mb: 2 }}>DTX Data</Typography>\n              </Grid>\n\n              {/* DTX Readings Preview */}\n              {patientReadings.length > 0 && (\n                <Grid item xs={12}>\n                  <Card variant=\"outlined\" sx={{ p: 2, bgcolor: '#f8fafc' }}>\n                    <Typography variant=\"subtitle1\" sx={{ mb: 2, fontWeight: 600 }}>\n                       Recent DTX Readings ({patientReadings.length} readings)\n                    </Typography>\n                    <Box sx={{ maxHeight: 150, overflowY: 'auto' }}>\n                      <Grid container spacing={1}>\n                        {patientReadings.slice(0, 6).map((reading: any, index: number) => (\n                          <Grid item xs={12} sm={6} md={4} key={index}>\n                            <Box sx={{ \n                              p: 1, \n                              bgcolor: 'white', \n                              borderRadius: 1, \n                              border: '1px solid rgba(0,0,0,0.1)',\n                              textAlign: 'center'\n                            }}>\n                              <Typography variant=\"body2\" sx={{ fontWeight: 600, color: 'primary.main' }}>\n                                {reading.value_mg_dl} mg/dL\n                              </Typography>\n                              <Typography variant=\"caption\" color=\"text.secondary\">\n                                {new Date(reading.measured_at).toLocaleDateString()}\n                              </Typography>\n                              <Chip\n                                label={reading.value_mg_dl < 70 ? 'Low' : reading.value_mg_dl > 180 ? 'High' : 'Normal'}\n                                color={reading.value_mg_dl < 70 ? 'error' : reading.value_mg_dl > 180 ? 'error' : 'success'}\n                                size=\"small\"\n                                sx={{ mt: 0.5 }}\n                              />\n                            </Box>\n                          </Grid>\n                        ))}\n                      </Grid>\n                    </Box>\n                  </Card>\n                </Grid>\n              )}\n\n              <Grid item xs={12} md={6}>\n                <TextField\n                  fullWidth\n                  label=\"Average Glucose (mg/dL)\"\n                  type=\"number\"\n                  value={patientStats?.average_glucose || formData.dtx_data?.average_glucose || 0}\n                  onChange={(e) => setFormData(prev => ({ \n                    ...prev, \n                    dtx_data: { \n                      ...prev.dtx_data!, \n                      average_glucose: parseFloat(e.target.value) || 0 \n                    }\n                  }))}\n                  error={!!validationErrors.average_glucose}\n                  helperText={validationErrors.average_glucose || \"Average glucose from patient data\"}\n                  inputProps={{ min: 0, max: 1000 }}\n                  InputProps={{\n                    readOnly: !!patientStats?.average_glucose,\n                    endAdornment: patientStats?.average_glucose ? <InputAdornment position=\"end\">From DB</InputAdornment> : null\n                  }}\n                />\n              </Grid>\n\n              <Grid item xs={12} md={6}>\n                <TextField\n                  fullWidth\n                  label=\"Glucose Variability (mg/dL)\"\n                  type=\"number\"\n                  value={formData.dtx_data?.glucose_variability || 0}\n                  onChange={(e) => setFormData(prev => ({ \n                    ...prev, \n                    dtx_data: { \n                      ...prev.dtx_data!, \n                      glucose_variability: parseFloat(e.target.value) || 0 \n                    }\n                  }))}\n                />\n              </Grid>\n\n              <Grid item xs={12} md={6}>\n                <TextField\n                  fullWidth\n                  label=\"Total Readings\"\n                  type=\"number\"\n                  value={formData.dtx_data?.total_readings || 0}\n                  onChange={(e) => setFormData(prev => ({ \n                    ...prev, \n                    dtx_data: { \n                      ...prev.dtx_data!, \n                      total_readings: parseInt(e.target.value) || 0 \n                    }\n                  }))}\n                />\n              </Grid>\n\n              <Grid item xs={12} md={6}>\n                <TextField\n                  fullWidth\n                  label=\"In Range Percentage (%)\"\n                  type=\"number\"\n                  value={formData.dtx_data?.in_range_percentage || 0}\n                  onChange={(e) => setFormData(prev => ({ \n                    ...prev, \n                    dtx_data: { \n                      ...prev.dtx_data!, \n                      in_range_percentage: parseFloat(e.target.value) || 0 \n                    }\n                  }))}\n                  inputProps={{ min: 0, max: 100 }}\n                />\n              </Grid>\n\n              <Grid item xs={12} md={6}>\n                <TextField\n                  fullWidth\n                  label=\"A1C Level (%)\"\n                  type=\"number\"\n                  value={patientStats?.a1c_estimate || formData.a1c_level || 0}\n                  onChange={(e) => setFormData(prev => ({ \n                    ...prev, \n                    a1c_level: parseFloat(e.target.value) || 0 \n                  }))}\n                  inputProps={{ step: 0.1, min: 0, max: 20 }}\n                  helperText={patientStats?.a1c_estimate ? \"A1C estimate from patient data\" : \"Enter A1C level\"}\n                  InputProps={{\n                    readOnly: !!patientStats?.a1c_estimate,\n                    endAdornment: patientStats?.a1c_estimate ? <InputAdornment position=\"end\">From DB</InputAdornment> : null\n                  }}\n                />\n              </Grid>\n\n              <Grid item xs={12} md={6}>\n                <TextField\n                  fullWidth\n                  label=\"Next Follow-up Date\"\n                  type=\"date\"\n                  value={formData.next_follow_up || ''}\n                  onChange={(e) => setFormData(prev => ({ \n                    ...prev, \n                    next_follow_up: e.target.value \n                  }))}\n                  InputLabelProps={{ shrink: true }}\n                />\n              </Grid>\n            </Grid>\n          </TabPanel>\n\n          <TabPanel value={activeTab} index={1}>\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\n              Advanced data collection for enhanced AI analysis\n            </Typography>\n            {/* Advanced form fields would go here */}\n          </TabPanel>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleCloseDialog} disabled={isGenerating}>\n            Cancel\n          </Button>\n          {isGenerating && (\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, flex: 1 }}>\n              <LinearProgress \n                variant=\"determinate\" \n                value={generationProgress} \n                sx={{ flex: 1 }}\n              />\n              <Typography variant=\"body2\" color=\"text.secondary\">\n                {generationProgress}%\n              </Typography>\n            </Box>\n          )}\n          <Button\n            onClick={handleGenerateRecommendation}\n            variant=\"contained\"\n            disabled={isGenerating || !formData.user_id}\n            startIcon={isGenerating ? <CircularProgress size={20} /> : <AutoAwesome />}\n          >\n            {isGenerating ? 'Generating...' : 'Generate Recommendation'}\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* Floating Action Button */}\n      <Fab\n        color=\"primary\"\n        aria-label=\"add\"\n        sx={{ position: 'fixed', bottom: 16, right: 16 }}\n        onClick={handleOpenDialog}\n      >\n        <Add />\n      </Fab>\n\n      {/* Snackbar */}\n      <Snackbar\n        open={!!success}\n        autoHideDuration={6000}\n        onClose={() => setSuccess(null)}\n      >\n        <Alert severity=\"success\" onClose={() => setSuccess(null)}>\n          {success}\n        </Alert>\n      </Snackbar>\n    </Box>\n  );\n};\n\nexport default AIHealthAssistant;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}