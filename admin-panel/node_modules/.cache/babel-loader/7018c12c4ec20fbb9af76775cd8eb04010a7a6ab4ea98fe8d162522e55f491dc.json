{"ast":null,"code":"import _objectSpread from\"/Users/kitkamon/Cursor/evep-my-firstcare-com/admin-panel/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Box,Typography,Card,CardContent,Button,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper,Chip,Alert,Snackbar,Grid,FormControl,InputLabel,Select,MenuItem,TextField,List,ListItem,ListItemIcon,ListItemText}from'@mui/material';import{Refresh as RefreshIcon,Security as SecurityIcon,Warning as WarningIcon,CheckCircle as CheckCircleIcon,Error as ErrorIcon,Info as InfoIcon,FilterList as FilterIcon,Download as DownloadIcon,Login as LoginIcon,Logout as LogoutIcon,Edit as EditIcon,Delete as DeleteIcon,Block as BlockIcon,Shield as ShieldIcon,Timeline as TimelineIcon}from'@mui/icons-material';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SecurityAudit=()=>{const[events,setEvents]=useState([]);const[stats,setStats]=useState(null);const[loading,setLoading]=useState(true);const[filters,setFilters]=useState({event_type:'',severity:'',status:'',user_role:'',date_from:null,date_to:null});const[snackbar,setSnackbar]=useState({open:false,message:'',severity:'info'});const fetchSecurityData=async()=>{try{setLoading(true);// Fetch security events\nconst eventsResponse=await axios.get('/api/v1/admin/security/events');setEvents(eventsResponse.data.events||[]);// Fetch security stats\nconst statsResponse=await axios.get('/api/v1/admin/security/stats');setStats(statsResponse.data);}catch(error){console.error('Error fetching security data:',error);// Mock data for now\nsetEvents([{id:'1',timestamp:new Date().toISOString(),event_type:'login',user_id:'68b131b09cf9b01a0274e39a',user_email:'admin@evep.com',user_role:'admin',ip_address:'192.168.1.100',user_agent:'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)',resource:'/api/v1/auth/login',action:'User login',status:'success',details:'Successful login from admin panel',severity:'low'},{id:'2',timestamp:new Date(Date.now()-3600000).toISOString(),event_type:'access_denied',user_id:'unknown',user_email:'unknown@example.com',user_role:'unknown',ip_address:'192.168.1.101',user_agent:'Mozilla/5.0 (Windows NT 10.0; Win64; x64)',resource:'/api/v1/admin/users',action:'Unauthorized access attempt',status:'failed',details:'Access denied to admin endpoint',severity:'medium'}]);setStats({total_events:1250,failed_logins:45,suspicious_activities:12,blocked_ips:8,security_alerts:3,last_24h_events:156,last_7d_events:892,last_30d_events:1250});}finally{setLoading(false);}};useEffect(()=>{fetchSecurityData();},[]);const getEventIcon=eventType=>{switch(eventType){case'login':return/*#__PURE__*/_jsx(LoginIcon,{color:\"success\"});case'logout':return/*#__PURE__*/_jsx(LogoutIcon,{color:\"info\"});case'create':return/*#__PURE__*/_jsx(EditIcon,{color:\"primary\"});case'update':return/*#__PURE__*/_jsx(EditIcon,{color:\"primary\"});case'delete':return/*#__PURE__*/_jsx(DeleteIcon,{color:\"error\"});case'access_denied':return/*#__PURE__*/_jsx(BlockIcon,{color:\"error\"});case'security_alert':return/*#__PURE__*/_jsx(WarningIcon,{color:\"warning\"});default:return/*#__PURE__*/_jsx(InfoIcon,{color:\"info\"});}};const getSeverityColor=severity=>{switch(severity){case'low':return'success';case'medium':return'warning';case'high':return'error';case'critical':return'error';default:return'default';}};const getStatusColor=status=>{switch(status){case'success':return'success';case'failed':return'error';case'warning':return'warning';default:return'default';}};const formatDate=dateString=>{return new Date(dateString).toLocaleString();};const filteredEvents=events.filter(event=>{if(filters.event_type&&event.event_type!==filters.event_type)return false;if(filters.severity&&event.severity!==filters.severity)return false;if(filters.status&&event.status!==filters.status)return false;if(filters.user_role&&event.user_role!==filters.user_role)return false;if(filters.date_from&&new Date(event.timestamp)<filters.date_from)return false;if(filters.date_to&&new Date(event.timestamp)>filters.date_to)return false;return true;});const exportAuditLog=()=>{const csvContent=[['Timestamp','Event Type','User','IP Address','Resource','Action','Status','Severity'],...filteredEvents.map(event=>[formatDate(event.timestamp),event.event_type,event.user_email,event.ip_address,event.resource,event.action,event.status,event.severity])].map(row=>row.join(',')).join('\\n');const blob=new Blob([csvContent],{type:'text/csv'});const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"security-audit-\".concat(new Date().toISOString().split('T')[0],\".csv\");a.click();window.URL.revokeObjectURL(url);};return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:3},children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",fontWeight:700,gutterBottom:true,children:\"Security & Audit\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",children:\"Monitor security events, audit logs, and system security status\"})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:1},children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(DownloadIcon,{}),onClick:exportAuditLog,children:\"Export Logs\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",startIcon:/*#__PURE__*/_jsx(RefreshIcon,{}),onClick:fetchSecurityData,disabled:loading,children:\"Refresh\"})]})]}),stats&&/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,sx:{mb:3},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{sx:{textAlign:'center'},children:[/*#__PURE__*/_jsx(SecurityIcon,{color:\"primary\",sx:{fontSize:40,mb:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"primary.main\",children:stats.total_events}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Total Events\"})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{sx:{textAlign:'center'},children:[/*#__PURE__*/_jsx(ErrorIcon,{color:\"error\",sx:{fontSize:40,mb:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"error.main\",children:stats.failed_logins}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Failed Logins\"})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{sx:{textAlign:'center'},children:[/*#__PURE__*/_jsx(WarningIcon,{color:\"warning\",sx:{fontSize:40,mb:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"warning.main\",children:stats.suspicious_activities}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Suspicious Activities\"})]})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{sx:{textAlign:'center'},children:[/*#__PURE__*/_jsx(ShieldIcon,{color:\"info\",sx:{fontSize:40,mb:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",color:\"info.main\",children:stats.blocked_ips}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Blocked IPs\"})]})})})]}),stats&&(stats.current_client_ip||stats.current_user_agent)&&/*#__PURE__*/_jsx(Card,{sx:{mb:3},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1,mb:2},children:[/*#__PURE__*/_jsx(InfoIcon,{color:\"info\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Current Session Information\"})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[stats.current_client_ip&&/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,md:4,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Your IP Address\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",sx:{fontFamily:'monospace',bgcolor:'grey.100',p:1,borderRadius:1},children:stats.current_client_ip})]}),stats.current_user_agent&&/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,md:4,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Your Browser\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{fontFamily:'monospace',bgcolor:'grey.100',p:1,borderRadius:1,wordBreak:'break-all'},children:stats.current_user_agent})]}),stats.last_activity&&/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,md:4,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",color:\"text.secondary\",children:\"Last Activity\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{fontFamily:'monospace',bgcolor:'grey.100',p:1,borderRadius:1},children:new Date(stats.last_activity).toLocaleString()})]})]})]})}),/*#__PURE__*/_jsx(Card,{sx:{mb:3},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1,mb:2},children:[/*#__PURE__*/_jsx(FilterIcon,{}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Filters\"})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:2,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,size:\"small\",children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Event Type\"}),/*#__PURE__*/_jsxs(Select,{value:filters.event_type,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{event_type:e.target.value})),label:\"Event Type\",children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:\"All\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"login\",children:\"Login\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"logout\",children:\"Logout\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"create\",children:\"Create\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"update\",children:\"Update\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"delete\",children:\"Delete\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"access_denied\",children:\"Access Denied\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"security_alert\",children:\"Security Alert\"})]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:2,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,size:\"small\",children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Severity\"}),/*#__PURE__*/_jsxs(Select,{value:filters.severity,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{severity:e.target.value})),label:\"Severity\",children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:\"All\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"low\",children:\"Low\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"medium\",children:\"Medium\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"high\",children:\"High\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"critical\",children:\"Critical\"})]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:2,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,size:\"small\",children:[/*#__PURE__*/_jsx(InputLabel,{children:\"Status\"}),/*#__PURE__*/_jsxs(Select,{value:filters.status,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{status:e.target.value})),label:\"Status\",children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:\"All\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"success\",children:\"Success\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"failed\",children:\"Failed\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"warning\",children:\"Warning\"})]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:2,children:/*#__PURE__*/_jsxs(FormControl,{fullWidth:true,size:\"small\",children:[/*#__PURE__*/_jsx(InputLabel,{children:\"User Role\"}),/*#__PURE__*/_jsxs(Select,{value:filters.user_role,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{user_role:e.target.value})),label:\"User Role\",children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:\"All\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"admin\",children:\"Admin\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"doctor\",children:\"Doctor\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"nurse\",children:\"Nurse\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"teacher\",children:\"Teacher\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"parent\",children:\"Parent\"})]})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:2,children:/*#__PURE__*/_jsx(TextField,{label:\"From Date\",type:\"date\",value:filters.date_from?filters.date_from.toISOString().split('T')[0]:'',onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{date_from:e.target.value?new Date(e.target.value):null})),size:\"small\",fullWidth:true,InputLabelProps:{shrink:true}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:2,children:/*#__PURE__*/_jsx(TextField,{label:\"To Date\",type:\"date\",value:filters.date_to?filters.date_to.toISOString().split('T')[0]:'',onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{date_to:e.target.value?new Date(e.target.value):null})),size:\"small\",fullWidth:true,InputLabelProps:{shrink:true}})})]})]})}),/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1,mb:2},children:[/*#__PURE__*/_jsx(TimelineIcon,{color:\"primary\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Security Events\"}),/*#__PURE__*/_jsx(Chip,{label:\"\".concat(filteredEvents.length,\" events\"),size:\"small\",color:\"primary\"})]}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,elevation:0,children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Event\"}),/*#__PURE__*/_jsx(TableCell,{children:\"User\"}),/*#__PURE__*/_jsx(TableCell,{children:\"IP Address\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Resource\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Action\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Status\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Severity\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Timestamp\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:loading?/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{colSpan:8,align:\"center\",children:\"Loading security events...\"})}):filteredEvents.length===0?/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{colSpan:8,align:\"center\",children:\"No security events found\"})}):filteredEvents.map(event=>/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1},children:[getEventIcon(event.event_type),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",fontWeight:500,children:event.event_type.replace('_',' ').toUpperCase()})]})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",fontWeight:500,children:event.user_email}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",color:\"text.secondary\",children:event.user_role})]})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",fontFamily:\"monospace\",children:event.ip_address})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{maxWidth:150,wordBreak:'break-word'},children:event.resource})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:event.action})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Chip,{label:event.status.toUpperCase(),color:getStatusColor(event.status),size:\"small\"})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Chip,{label:event.severity.toUpperCase(),color:getSeverityColor(event.severity),size:\"small\",variant:\"outlined\"})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Typography,{variant:\"caption\",children:formatDate(event.timestamp)})})]},event.id))})]})})]})}),/*#__PURE__*/_jsx(Card,{sx:{mt:3},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1,mb:2},children:[/*#__PURE__*/_jsx(WarningIcon,{color:\"warning\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Security Alerts\"})]}),/*#__PURE__*/_jsx(Alert,{severity:\"info\",sx:{mb:2},children:\"System security monitoring is active. All security events are being logged and monitored.\"}),/*#__PURE__*/_jsxs(List,{children:[/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(CheckCircleIcon,{color:\"success\"})}),/*#__PURE__*/_jsx(ListItemText,{primary:\"Authentication System\",secondary:\"All login attempts are being monitored and logged\"})]}),/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(CheckCircleIcon,{color:\"success\"})}),/*#__PURE__*/_jsx(ListItemText,{primary:\"Access Control\",secondary:\"Role-based access control is properly configured\"})]}),/*#__PURE__*/_jsxs(ListItem,{children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(CheckCircleIcon,{color:\"success\"})}),/*#__PURE__*/_jsx(ListItemText,{primary:\"Audit Logging\",secondary:\"All system activities are being audited and logged\"})]})]})]})}),/*#__PURE__*/_jsx(Snackbar,{open:snackbar.open,autoHideDuration:6000,onClose:()=>setSnackbar(_objectSpread(_objectSpread({},snackbar),{},{open:false})),children:/*#__PURE__*/_jsx(Alert,{onClose:()=>setSnackbar(_objectSpread(_objectSpread({},snackbar),{},{open:false})),severity:snackbar.severity,sx:{width:'100%'},children:snackbar.message})})]});};export default SecurityAudit;","map":{"version":3,"names":["React","useState","useEffect","Box","Typography","Card","CardContent","Button","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Chip","Alert","Snackbar","Grid","FormControl","InputLabel","Select","MenuItem","TextField","List","ListItem","ListItemIcon","ListItemText","Refresh","RefreshIcon","Security","SecurityIcon","Warning","WarningIcon","CheckCircle","CheckCircleIcon","Error","ErrorIcon","Info","InfoIcon","FilterList","FilterIcon","Download","DownloadIcon","Login","LoginIcon","Logout","LogoutIcon","Edit","EditIcon","Delete","DeleteIcon","Block","BlockIcon","Shield","ShieldIcon","Timeline","TimelineIcon","axios","jsx","_jsx","jsxs","_jsxs","SecurityAudit","events","setEvents","stats","setStats","loading","setLoading","filters","setFilters","event_type","severity","status","user_role","date_from","date_to","snackbar","setSnackbar","open","message","fetchSecurityData","eventsResponse","get","data","statsResponse","error","console","id","timestamp","Date","toISOString","user_id","user_email","ip_address","user_agent","resource","action","details","now","total_events","failed_logins","suspicious_activities","blocked_ips","security_alerts","last_24h_events","last_7d_events","last_30d_events","getEventIcon","eventType","color","getSeverityColor","getStatusColor","formatDate","dateString","toLocaleString","filteredEvents","filter","event","exportAuditLog","csvContent","map","row","join","blob","Blob","type","url","window","URL","createObjectURL","a","document","createElement","href","download","concat","split","click","revokeObjectURL","children","sx","display","justifyContent","alignItems","mb","variant","fontWeight","gutterBottom","gap","startIcon","onClick","disabled","container","spacing","item","xs","sm","md","textAlign","fontSize","current_client_ip","current_user_agent","fontFamily","bgcolor","p","borderRadius","wordBreak","last_activity","fullWidth","size","value","onChange","e","_objectSpread","target","label","InputLabelProps","shrink","length","component","elevation","colSpan","align","replace","toUpperCase","maxWidth","mt","primary","secondary","autoHideDuration","onClose","width"],"sources":["/Users/kitkamon/Cursor/evep-my-firstcare-com/admin-panel/src/pages/SecurityAudit.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Box,\n  Typography,\n  Card,\n  CardContent,\n  Button,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Paper,\n  IconButton,\n  Chip,\n  Alert,\n  Snackbar,\n  Tooltip,\n  Grid,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  TextField,\n\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Divider\n} from '@mui/material';\nimport {\n  Refresh as RefreshIcon,\n  Security as SecurityIcon,\n  Warning as WarningIcon,\n  CheckCircle as CheckCircleIcon,\n  Error as ErrorIcon,\n  Info as InfoIcon,\n  FilterList as FilterIcon,\n  Download as DownloadIcon,\n  ExpandMore as ExpandMoreIcon,\n  Login as LoginIcon,\n  Logout as LogoutIcon,\n  Edit as EditIcon,\n  Delete as DeleteIcon,\n  Visibility as ViewIcon,\n  Block as BlockIcon,\n  Shield as ShieldIcon,\n  Timeline as TimelineIcon\n} from '@mui/icons-material';\nimport axios from 'axios';\n\ninterface SecurityEvent {\n  id: string;\n  timestamp: string;\n  event_type: 'login' | 'logout' | 'create' | 'update' | 'delete' | 'access_denied' | 'security_alert';\n  user_id: string;\n  user_email: string;\n  user_role: string;\n  ip_address: string;\n  user_agent: string;\n  resource: string;\n  action: string;\n  status: 'success' | 'failed' | 'warning';\n  details: string;\n  severity: 'low' | 'medium' | 'high' | 'critical';\n}\n\ninterface SecurityStats {\n  total_events: number;\n  failed_logins: number;\n  suspicious_activities: number;\n  blocked_ips: number;\n  security_alerts: number;\n  last_24h_events: number;\n  last_7d_events: number;\n  last_30d_events: number;\n  current_client_ip?: string;\n  current_user_agent?: string;\n  last_activity?: string;\n}\n\ninterface FilterOptions {\n  event_type: string;\n  severity: string;\n  status: string;\n  user_role: string;\n  date_from: Date | null;\n  date_to: Date | null;\n}\n\nconst SecurityAudit: React.FC = () => {\n  const [events, setEvents] = useState<SecurityEvent[]>([]);\n  const [stats, setStats] = useState<SecurityStats | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [filters, setFilters] = useState<FilterOptions>({\n    event_type: '',\n    severity: '',\n    status: '',\n    user_role: '',\n    date_from: null,\n    date_to: null\n  });\n  const [snackbar, setSnackbar] = useState<{\n    open: boolean;\n    message: string;\n    severity: 'success' | 'error' | 'info';\n  }>({ open: false, message: '', severity: 'info' });\n\n  const fetchSecurityData = async () => {\n    try {\n      setLoading(true);\n      \n      // Fetch security events\n      const eventsResponse = await axios.get('/api/v1/admin/security/events');\n      setEvents(eventsResponse.data.events || []);\n      \n      // Fetch security stats\n      const statsResponse = await axios.get('/api/v1/admin/security/stats');\n      setStats(statsResponse.data);\n      \n    } catch (error) {\n      console.error('Error fetching security data:', error);\n      // Mock data for now\n      setEvents([\n        {\n          id: '1',\n          timestamp: new Date().toISOString(),\n          event_type: 'login',\n          user_id: '68b131b09cf9b01a0274e39a',\n          user_email: 'admin@evep.com',\n          user_role: 'admin',\n          ip_address: '192.168.1.100',\n          user_agent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)',\n          resource: '/api/v1/auth/login',\n          action: 'User login',\n          status: 'success',\n          details: 'Successful login from admin panel',\n          severity: 'low'\n        },\n        {\n          id: '2',\n          timestamp: new Date(Date.now() - 3600000).toISOString(),\n          event_type: 'access_denied',\n          user_id: 'unknown',\n          user_email: 'unknown@example.com',\n          user_role: 'unknown',\n          ip_address: '192.168.1.101',\n          user_agent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)',\n          resource: '/api/v1/admin/users',\n          action: 'Unauthorized access attempt',\n          status: 'failed',\n          details: 'Access denied to admin endpoint',\n          severity: 'medium'\n        }\n      ]);\n      \n      setStats({\n        total_events: 1250,\n        failed_logins: 45,\n        suspicious_activities: 12,\n        blocked_ips: 8,\n        security_alerts: 3,\n        last_24h_events: 156,\n        last_7d_events: 892,\n        last_30d_events: 1250\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchSecurityData();\n  }, []);\n\n  const getEventIcon = (eventType: string) => {\n    switch (eventType) {\n      case 'login':\n        return <LoginIcon color=\"success\" />;\n      case 'logout':\n        return <LogoutIcon color=\"info\" />;\n      case 'create':\n        return <EditIcon color=\"primary\" />;\n      case 'update':\n        return <EditIcon color=\"primary\" />;\n      case 'delete':\n        return <DeleteIcon color=\"error\" />;\n      case 'access_denied':\n        return <BlockIcon color=\"error\" />;\n      case 'security_alert':\n        return <WarningIcon color=\"warning\" />;\n      default:\n        return <InfoIcon color=\"info\" />;\n    }\n  };\n\n  const getSeverityColor = (severity: string) => {\n    switch (severity) {\n      case 'low':\n        return 'success';\n      case 'medium':\n        return 'warning';\n      case 'high':\n        return 'error';\n      case 'critical':\n        return 'error';\n      default:\n        return 'default';\n    }\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'success':\n        return 'success';\n      case 'failed':\n        return 'error';\n      case 'warning':\n        return 'warning';\n      default:\n        return 'default';\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleString();\n  };\n\n  const filteredEvents = events.filter(event => {\n    if (filters.event_type && event.event_type !== filters.event_type) return false;\n    if (filters.severity && event.severity !== filters.severity) return false;\n    if (filters.status && event.status !== filters.status) return false;\n    if (filters.user_role && event.user_role !== filters.user_role) return false;\n    if (filters.date_from && new Date(event.timestamp) < filters.date_from) return false;\n    if (filters.date_to && new Date(event.timestamp) > filters.date_to) return false;\n    return true;\n  });\n\n  const exportAuditLog = () => {\n    const csvContent = [\n      ['Timestamp', 'Event Type', 'User', 'IP Address', 'Resource', 'Action', 'Status', 'Severity'],\n      ...filteredEvents.map(event => [\n        formatDate(event.timestamp),\n        event.event_type,\n        event.user_email,\n        event.ip_address,\n        event.resource,\n        event.action,\n        event.status,\n        event.severity\n      ])\n    ].map(row => row.join(',')).join('\\n');\n\n    const blob = new Blob([csvContent], { type: 'text/csv' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `security-audit-${new Date().toISOString().split('T')[0]}.csv`;\n    a.click();\n    window.URL.revokeObjectURL(url);\n  };\n\n  return (\n    <Box>\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\n        <Box>\n          <Typography variant=\"h4\" fontWeight={700} gutterBottom>\n            Security & Audit\n          </Typography>\n          <Typography variant=\"body1\" color=\"text.secondary\">\n            Monitor security events, audit logs, and system security status\n          </Typography>\n        </Box>\n        <Box sx={{ display: 'flex', gap: 1 }}>\n          <Button\n            variant=\"outlined\"\n            startIcon={<DownloadIcon />}\n            onClick={exportAuditLog}\n          >\n            Export Logs\n          </Button>\n          <Button\n            variant=\"outlined\"\n            startIcon={<RefreshIcon />}\n            onClick={fetchSecurityData}\n            disabled={loading}\n          >\n            Refresh\n          </Button>\n        </Box>\n      </Box>\n\n      {/* Security Overview */}\n      {stats && (\n        <Grid container spacing={3} sx={{ mb: 3 }}>\n          <Grid item xs={12} sm={6} md={3}>\n            <Card>\n              <CardContent sx={{ textAlign: 'center' }}>\n                <SecurityIcon color=\"primary\" sx={{ fontSize: 40, mb: 1 }} />\n                <Typography variant=\"h4\" color=\"primary.main\">\n                  {stats.total_events}\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  Total Events\n                </Typography>\n              </CardContent>\n            </Card>\n          </Grid>\n          <Grid item xs={12} sm={6} md={3}>\n            <Card>\n              <CardContent sx={{ textAlign: 'center' }}>\n                <ErrorIcon color=\"error\" sx={{ fontSize: 40, mb: 1 }} />\n                <Typography variant=\"h4\" color=\"error.main\">\n                  {stats.failed_logins}\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  Failed Logins\n                </Typography>\n              </CardContent>\n            </Card>\n          </Grid>\n          <Grid item xs={12} sm={6} md={3}>\n            <Card>\n              <CardContent sx={{ textAlign: 'center' }}>\n                <WarningIcon color=\"warning\" sx={{ fontSize: 40, mb: 1 }} />\n                <Typography variant=\"h4\" color=\"warning.main\">\n                  {stats.suspicious_activities}\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  Suspicious Activities\n                </Typography>\n              </CardContent>\n            </Card>\n          </Grid>\n          <Grid item xs={12} sm={6} md={3}>\n            <Card>\n              <CardContent sx={{ textAlign: 'center' }}>\n                <ShieldIcon color=\"info\" sx={{ fontSize: 40, mb: 1 }} />\n                <Typography variant=\"h4\" color=\"info.main\">\n                  {stats.blocked_ips}\n                </Typography>\n                <Typography variant=\"body2\" color=\"text.secondary\">\n                  Blocked IPs\n                </Typography>\n              </CardContent>\n            </Card>\n          </Grid>\n        </Grid>\n      )}\n\n      {/* Current Client Information */}\n      {stats && (stats.current_client_ip || stats.current_user_agent) && (\n        <Card sx={{ mb: 3 }}>\n          <CardContent>\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 2 }}>\n              <InfoIcon color=\"info\" />\n              <Typography variant=\"h6\">Current Session Information</Typography>\n            </Box>\n            <Grid container spacing={2}>\n              {stats.current_client_ip && (\n                <Grid item xs={12} sm={6} md={4}>\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">\n                    Your IP Address\n                  </Typography>\n                  <Typography variant=\"body1\" sx={{ fontFamily: 'monospace', bgcolor: 'grey.100', p: 1, borderRadius: 1 }}>\n                    {stats.current_client_ip}\n                  </Typography>\n                </Grid>\n              )}\n              {stats.current_user_agent && (\n                <Grid item xs={12} sm={6} md={4}>\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">\n                    Your Browser\n                  </Typography>\n                  <Typography variant=\"body2\" sx={{ fontFamily: 'monospace', bgcolor: 'grey.100', p: 1, borderRadius: 1, wordBreak: 'break-all' }}>\n                    {stats.current_user_agent}\n                  </Typography>\n                </Grid>\n              )}\n              {stats.last_activity && (\n                <Grid item xs={12} sm={6} md={4}>\n                  <Typography variant=\"subtitle2\" color=\"text.secondary\">\n                    Last Activity\n                  </Typography>\n                  <Typography variant=\"body2\" sx={{ fontFamily: 'monospace', bgcolor: 'grey.100', p: 1, borderRadius: 1 }}>\n                    {new Date(stats.last_activity).toLocaleString()}\n                  </Typography>\n                </Grid>\n              )}\n            </Grid>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Filters */}\n      <Card sx={{ mb: 3 }}>\n        <CardContent>\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 2 }}>\n            <FilterIcon />\n            <Typography variant=\"h6\">Filters</Typography>\n          </Box>\n          <Grid container spacing={2}>\n            <Grid item xs={12} sm={6} md={2}>\n              <FormControl fullWidth size=\"small\">\n                <InputLabel>Event Type</InputLabel>\n                <Select\n                  value={filters.event_type}\n                  onChange={(e) => setFilters({ ...filters, event_type: e.target.value })}\n                  label=\"Event Type\"\n                >\n                  <MenuItem value=\"\">All</MenuItem>\n                  <MenuItem value=\"login\">Login</MenuItem>\n                  <MenuItem value=\"logout\">Logout</MenuItem>\n                  <MenuItem value=\"create\">Create</MenuItem>\n                  <MenuItem value=\"update\">Update</MenuItem>\n                  <MenuItem value=\"delete\">Delete</MenuItem>\n                  <MenuItem value=\"access_denied\">Access Denied</MenuItem>\n                  <MenuItem value=\"security_alert\">Security Alert</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid item xs={12} sm={6} md={2}>\n              <FormControl fullWidth size=\"small\">\n                <InputLabel>Severity</InputLabel>\n                <Select\n                  value={filters.severity}\n                  onChange={(e) => setFilters({ ...filters, severity: e.target.value })}\n                  label=\"Severity\"\n                >\n                  <MenuItem value=\"\">All</MenuItem>\n                  <MenuItem value=\"low\">Low</MenuItem>\n                  <MenuItem value=\"medium\">Medium</MenuItem>\n                  <MenuItem value=\"high\">High</MenuItem>\n                  <MenuItem value=\"critical\">Critical</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid item xs={12} sm={6} md={2}>\n              <FormControl fullWidth size=\"small\">\n                <InputLabel>Status</InputLabel>\n                <Select\n                  value={filters.status}\n                  onChange={(e) => setFilters({ ...filters, status: e.target.value })}\n                  label=\"Status\"\n                >\n                  <MenuItem value=\"\">All</MenuItem>\n                  <MenuItem value=\"success\">Success</MenuItem>\n                  <MenuItem value=\"failed\">Failed</MenuItem>\n                  <MenuItem value=\"warning\">Warning</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid item xs={12} sm={6} md={2}>\n              <FormControl fullWidth size=\"small\">\n                <InputLabel>User Role</InputLabel>\n                <Select\n                  value={filters.user_role}\n                  onChange={(e) => setFilters({ ...filters, user_role: e.target.value })}\n                  label=\"User Role\"\n                >\n                  <MenuItem value=\"\">All</MenuItem>\n                  <MenuItem value=\"admin\">Admin</MenuItem>\n                  <MenuItem value=\"doctor\">Doctor</MenuItem>\n                  <MenuItem value=\"nurse\">Nurse</MenuItem>\n                  <MenuItem value=\"teacher\">Teacher</MenuItem>\n                  <MenuItem value=\"parent\">Parent</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid item xs={12} sm={6} md={2}>\n              <TextField\n                label=\"From Date\"\n                type=\"date\"\n                value={filters.date_from ? filters.date_from.toISOString().split('T')[0] : ''}\n                onChange={(e) => setFilters({ ...filters, date_from: e.target.value ? new Date(e.target.value) : null })}\n                size=\"small\"\n                fullWidth\n                InputLabelProps={{ shrink: true }}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6} md={2}>\n              <TextField\n                label=\"To Date\"\n                type=\"date\"\n                value={filters.date_to ? filters.date_to.toISOString().split('T')[0] : ''}\n                onChange={(e) => setFilters({ ...filters, date_to: e.target.value ? new Date(e.target.value) : null })}\n                size=\"small\"\n                fullWidth\n                InputLabelProps={{ shrink: true }}\n              />\n            </Grid>\n          </Grid>\n        </CardContent>\n      </Card>\n\n      {/* Security Events Table */}\n      <Card>\n        <CardContent>\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 2 }}>\n            <TimelineIcon color=\"primary\" />\n            <Typography variant=\"h6\">Security Events</Typography>\n            <Chip label={`${filteredEvents.length} events`} size=\"small\" color=\"primary\" />\n          </Box>\n          \n          <TableContainer component={Paper} elevation={0}>\n            <Table>\n              <TableHead>\n                <TableRow>\n                  <TableCell>Event</TableCell>\n                  <TableCell>User</TableCell>\n                  <TableCell>IP Address</TableCell>\n                  <TableCell>Resource</TableCell>\n                  <TableCell>Action</TableCell>\n                  <TableCell>Status</TableCell>\n                  <TableCell>Severity</TableCell>\n                  <TableCell>Timestamp</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {loading ? (\n                  <TableRow>\n                    <TableCell colSpan={8} align=\"center\">\n                      Loading security events...\n                    </TableCell>\n                  </TableRow>\n                ) : filteredEvents.length === 0 ? (\n                  <TableRow>\n                    <TableCell colSpan={8} align=\"center\">\n                      No security events found\n                    </TableCell>\n                  </TableRow>\n                ) : (\n                  filteredEvents.map((event) => (\n                    <TableRow key={event.id}>\n                      <TableCell>\n                        <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                          {getEventIcon(event.event_type)}\n                          <Typography variant=\"body2\" fontWeight={500}>\n                            {event.event_type.replace('_', ' ').toUpperCase()}\n                          </Typography>\n                        </Box>\n                      </TableCell>\n                      <TableCell>\n                        <Box>\n                          <Typography variant=\"body2\" fontWeight={500}>\n                            {event.user_email}\n                          </Typography>\n                          <Typography variant=\"caption\" color=\"text.secondary\">\n                            {event.user_role}\n                          </Typography>\n                        </Box>\n                      </TableCell>\n                      <TableCell>\n                        <Typography variant=\"body2\" fontFamily=\"monospace\">\n                          {event.ip_address}\n                        </Typography>\n                      </TableCell>\n                      <TableCell>\n                        <Typography variant=\"body2\" sx={{ maxWidth: 150, wordBreak: 'break-word' }}>\n                          {event.resource}\n                        </Typography>\n                      </TableCell>\n                      <TableCell>\n                        <Typography variant=\"body2\">\n                          {event.action}\n                        </Typography>\n                      </TableCell>\n                      <TableCell>\n                        <Chip\n                          label={event.status.toUpperCase()}\n                          color={getStatusColor(event.status) as any}\n                          size=\"small\"\n                        />\n                      </TableCell>\n                      <TableCell>\n                        <Chip\n                          label={event.severity.toUpperCase()}\n                          color={getSeverityColor(event.severity) as any}\n                          size=\"small\"\n                          variant=\"outlined\"\n                        />\n                      </TableCell>\n                      <TableCell>\n                        <Typography variant=\"caption\">\n                          {formatDate(event.timestamp)}\n                        </Typography>\n                      </TableCell>\n                    </TableRow>\n                  ))\n                )}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </CardContent>\n      </Card>\n\n      {/* Security Alerts */}\n      <Card sx={{ mt: 3 }}>\n        <CardContent>\n          <Box sx={{ display: 'flex', alignItems: 'center', gap: 1, mb: 2 }}>\n            <WarningIcon color=\"warning\" />\n            <Typography variant=\"h6\">Security Alerts</Typography>\n          </Box>\n          \n          <Alert severity=\"info\" sx={{ mb: 2 }}>\n            System security monitoring is active. All security events are being logged and monitored.\n          </Alert>\n          \n          <List>\n            <ListItem>\n              <ListItemIcon>\n                <CheckCircleIcon color=\"success\" />\n              </ListItemIcon>\n              <ListItemText\n                primary=\"Authentication System\"\n                secondary=\"All login attempts are being monitored and logged\"\n              />\n            </ListItem>\n            <ListItem>\n              <ListItemIcon>\n                <CheckCircleIcon color=\"success\" />\n              </ListItemIcon>\n              <ListItemText\n                primary=\"Access Control\"\n                secondary=\"Role-based access control is properly configured\"\n              />\n            </ListItem>\n            <ListItem>\n              <ListItemIcon>\n                <CheckCircleIcon color=\"success\" />\n              </ListItemIcon>\n              <ListItemText\n                primary=\"Audit Logging\"\n                secondary=\"All system activities are being audited and logged\"\n              />\n            </ListItem>\n          </List>\n        </CardContent>\n      </Card>\n\n      {/* Snackbar for notifications */}\n      <Snackbar\n        open={snackbar.open}\n        autoHideDuration={6000}\n        onClose={() => setSnackbar({ ...snackbar, open: false })}\n      >\n        <Alert\n          onClose={() => setSnackbar({ ...snackbar, open: false })}\n          severity={snackbar.severity}\n          sx={{ width: '100%' }}\n        >\n          {snackbar.message}\n        </Alert>\n      </Snackbar>\n    </Box>\n  );\n};\n\nexport default SecurityAudit;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}