<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EVEP Mobile Reflection Unit - Complete ER Diagram</title>
    <style>
        @media print {
            body { margin: 0; padding: 20px; }
            .no-print { display: none; }
            .page-break { page-break-before: always; }
            .container { max-width: none; }
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f8f9fa;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 300;
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .content {
            padding: 40px;
        }
        
        .section {
            margin-bottom: 40px;
            page-break-inside: avoid;
        }
        
        .section h2 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 1.8em;
        }
        
        .er-diagram {
            background: #ecf0f1;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .entity-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin: 20px 0;
        }
        
        .entity-card {
            background: white;
            border: 3px solid #3498db;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            position: relative;
        }
        
        .entity-card.primary {
            border-color: #e74c3c;
            background: linear-gradient(135deg, #fff5f5 0%, #fff 100%);
        }
        
        .entity-card.secondary {
            border-color: #f39c12;
            background: linear-gradient(135deg, #fffbf0 0%, #fff 100%);
        }
        
        .entity-card.support {
            border-color: #27ae60;
            background: linear-gradient(135deg, #f0fff4 0%, #fff 100%);
        }
        
        .entity-header {
            text-align: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #ecf0f1;
        }
        
        .entity-name {
            font-size: 1.4em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        
        .entity-type {
            font-size: 0.9em;
            color: #7f8c8d;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .attributes-list {
            list-style: none;
            margin: 15px 0;
        }
        
        .attribute-item {
            padding: 8px 12px;
            margin: 5px 0;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #3498db;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        .attribute-item.pk {
            border-left-color: #e74c3c;
            background: #fff5f5;
            font-weight: bold;
        }
        
        .attribute-item.fk {
            border-left-color: #f39c12;
            background: #fffbf0;
            font-style: italic;
        }
        
        .attribute-item.required {
            border-left-color: #27ae60;
            background: #f0fff4;
        }
        
        .relationships {
            background: #e8f5e8;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .relationship-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .relationship-card {
            background: white;
            border: 2px solid #27ae60;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .relationship-title {
            font-weight: bold;
            color: #27ae60;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        
        .relationship-details {
            font-family: 'Courier New', monospace;
            background: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        
        .flow-diagram {
            background: #fff3cd;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .flow-step {
            display: flex;
            align-items: center;
            margin: 20px 0;
            padding: 20px;
            background: white;
            border-radius: 10px;
            border-left: 5px solid #ffc107;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .step-number {
            background: #ffc107;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
            margin-right: 20px;
            flex-shrink: 0;
        }
        
        .step-content {
            flex: 1;
        }
        
        .step-title {
            font-size: 1.2em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 8px;
        }
        
        .step-description {
            color: #7f8c8d;
            line-height: 1.5;
        }
        
        .arrow {
            color: #ffc107;
            font-size: 2em;
            margin: 10px 0;
            text-align: center;
        }
        
        .footer {
            background: #2c3e50;
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .footer p {
            margin: 5px 0;
        }
        
        .status-badge {
            display: inline-block;
            background: #27ae60;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            margin: 10px 0;
        }
        
        .legend {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px solid #dee2e6;
        }
        
        .legend-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            padding: 8px;
            border-radius: 5px;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 3px;
            margin-right: 10px;
        }
        
        .legend-color.pk { background: #e74c3c; }
        .legend-color.fk { background: #f39c12; }
        .legend-color.required { background: #27ae60; }
        .legend-color.optional { background: #3498db; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè• EVEP Mobile Reflection Unit</h1>
            <p><strong>Complete Entity-Relationship Diagram</strong></p>
            <p><strong>Document Version: 1.0 | Last Updated: August 30, 2024 | Print-Friendly Format</strong></p>
            <div class="status-badge">üü¢ LIVE SYSTEM - Production Ready</div>
        </div>
        
        <div class="content">
            <div class="section">
                <h2>üìã ER Diagram Overview</h2>
                <div class="er-diagram">
                    <p><strong>EVEP Mobile Reflection Unit</strong> Entity-Relationship Diagram represents the complete database schema for the vision screening and glasses prescription management system. The diagram shows all entities, their attributes, and relationships that support the clinical workflow.</p>
                    
                    <div class="legend">
                        <h3>üé® Legend & Color Coding:</h3>
                        <div class="legend-grid">
                            <div class="legend-item">
                                <div class="legend-color pk"></div>
                                <span><strong>Primary Key</strong> - Unique identifier</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color fk"></div>
                                <span><strong>Foreign Key</strong> - Relationship reference</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color required"></div>
                                <span><strong>Required Field</strong> - Mandatory data</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color optional"></div>
                                <span><strong>Optional Field</strong> - Optional data</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2>üèóÔ∏è Core Entities</h2>
                <div class="entity-grid">
                    <div class="entity-card primary">
                        <div class="entity-header">
                            <div class="entity-name">PATIENTS</div>
                            <div class="entity-type">Primary Entity</div>
                        </div>
                        <ul class="attributes-list">
                            <li class="attribute-item pk">patient_id (ObjectId) - Primary Key</li>
                            <li class="attribute-item required">student_id (String) - School ID</li>
                            <li class="attribute-item required">first_name (String) - First Name</li>
                            <li class="attribute-item required">last_name (String) - Last Name</li>
                            <li class="attribute-item required">date_of_birth (Date) - Birth Date</li>
                            <li class="attribute-item required">gender (String) - Gender</li>
                            <li class="attribute-item required">school_name (String) - School</li>
                            <li class="attribute-item required">grade_level (String) - Grade</li>
                            <li class="attribute-item required">parent_name (String) - Parent</li>
                            <li class="attribute-item required">parent_phone (String) - Contact</li>
                            <li class="attribute-item required">parent_email (String) - Email</li>
                            <li class="attribute-item required">address (String) - Address</li>
                            <li class="attribute-item required">registration_date (Date) - Reg Date</li>
                            <li class="attribute-item optional">medical_history (String) - History</li>
                            <li class="attribute-item optional">allergies (String) - Allergies</li>
                            <li class="attribute-item required">created_at (Date) - Created</li>
                            <li class="attribute-item required">updated_at (Date) - Updated</li>
                        </ul>
                    </div>
                    
                    <div class="entity-card primary">
                        <div class="entity-header">
                            <div class="entity-name">SCREENINGS</div>
                            <div class="entity-type">Primary Entity</div>
                        </div>
                        <ul class="attributes-list">
                            <li class="attribute-item pk">screening_id (ObjectId) - Primary Key</li>
                            <li class="attribute-item fk">patient_id (ObjectId) - Patient Reference</li>
                            <li class="attribute-item fk">medical_staff_id (ObjectId) - Staff Reference</li>
                            <li class="attribute-item required">screening_date (Date) - Date</li>
                            <li class="attribute-item required">screening_type (String) - Type</li>
                            <li class="attribute-item required">left_eye_va (Number) - Left VA</li>
                            <li class="attribute-item required">right_eye_va (Number) - Right VA</li>
                            <li class="attribute-item required">both_eyes_va (Number) - Both VA</li>
                            <li class="attribute-item optional">left_eye_notes (String) - Left Notes</li>
                            <li class="attribute-item optional">right_eye_notes (String) - Right Notes</li>
                            <li class="attribute-item required">screening_result (String) - Result</li>
                            <li class="attribute-item required">recommendation (String) - Recommendation</li>
                            <li class="attribute-item optional">additional_notes (String) - Notes</li>
                            <li class="attribute-item required">created_at (Date) - Created</li>
                            <li class="attribute-item required">updated_at (Date) - Updated</li>
                        </ul>
                    </div>
                    
                    <div class="entity-card primary">
                        <div class="entity-header">
                            <div class="entity-name">PRESCRIPTIONS</div>
                            <div class="entity-type">Primary Entity</div>
                        </div>
                        <ul class="attributes-list">
                            <li class="attribute-item pk">prescription_id (ObjectId) - Primary Key</li>
                            <li class="attribute-item fk">patient_id (ObjectId) - Patient Reference</li>
                            <li class="attribute-item fk">screening_id (ObjectId) - Screening Reference</li>
                            <li class="attribute-item fk">medical_staff_id (ObjectId) - Staff Reference</li>
                            <li class="attribute-item required">prescription_date (Date) - Date</li>
                            <li class="attribute-item required">left_eye_sphere (Number) - Left Sphere</li>
                            <li class="attribute-item required">left_eye_cylinder (Number) - Left Cylinder</li>
                            <li class="attribute-item required">left_eye_axis (Number) - Left Axis</li>
                            <li class="attribute-item required">right_eye_sphere (Number) - Right Sphere</li>
                            <li class="attribute-item required">right_eye_cylinder (Number) - Right Cylinder</li>
                            <li class="attribute-item required">right_eye_axis (Number) - Right Axis</li>
                            <li class="attribute-item optional">pd_distance (Number) - PD Distance</li>
                            <li class="attribute-item required">prescription_type (String) - Type</li>
                            <li class="attribute-item optional">special_requirements (String) - Requirements</li>
                            <li class="attribute-item required">status (String) - Status</li>
                            <li class="attribute-item required">created_at (Date) - Created</li>
                            <li class="attribute-item required">updated_at (Date) - Updated</li>
                        </ul>
                    </div>
                    
                    <div class="entity-card primary">
                        <div class="entity-header">
                            <div class="entity-name">DELIVERIES</div>
                            <div class="entity-type">Primary Entity</div>
                        </div>
                        <ul class="attributes-list">
                            <li class="attribute-item pk">delivery_id (ObjectId) - Primary Key</li>
                            <li class="attribute-item fk">patient_id (ObjectId) - Patient Reference</li>
                            <li class="attribute-item fk">prescription_id (ObjectId) - Prescription Reference</li>
                            <li class="attribute-item fk">inventory_id (ObjectId) - Inventory Reference</li>
                            <li class="attribute-item required">delivery_date (Date) - Date</li>
                            <li class="attribute-item required">school_name (String) - School</li>
                            <li class="attribute-item required">delivery_address (String) - Address</li>
                            <li class="attribute-item required">contact_person (String) - Contact</li>
                            <li class="attribute-item required">contact_phone (String) - Phone</li>
                            <li class="attribute-item required">delivery_status (String) - Status</li>
                            <li class="attribute-item optional">delivery_notes (String) - Notes</li>
                            <li class="attribute-item optional">signature_received (Boolean) - Signature</li>
                            <li class="attribute-item optional">received_by (String) - Received By</li>
                            <li class="attribute-item required">created_at (Date) - Created</li>
                            <li class="attribute-item required">updated_at (Date) - Updated</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2>üë• Medical Staff Entities</h2>
                <div class="entity-grid">
                    <div class="entity-card secondary">
                        <div class="entity-header">
                            <div class="entity-name">MEDICAL_STAFF</div>
                            <div class="entity-type">Secondary Entity</div>
                        </div>
                        <ul class="attributes-list">
                            <li class="attribute-item pk">medical_staff_id (ObjectId) - Primary Key</li>
                            <li class="attribute-item required">staff_id (String) - Staff ID</li>
                            <li class="attribute-item required">first_name (String) - First Name</li>
                            <li class="attribute-item required">last_name (String) - Last Name</li>
                            <li class="attribute-item required">email (String) - Email</li>
                            <li class="attribute-item required">phone (String) - Phone</li>
                            <li class="attribute-item required">role (String) - Role</li>
                            <li class="attribute-item required">specialization (String) - Specialization</li>
                            <li class="attribute-item required">license_number (String) - License</li>
                            <li class="attribute-item required">hire_date (Date) - Hire Date</li>
                            <li class="attribute-item required">status (String) - Status</li>
                            <li class="attribute-item required">created_at (Date) - Created</li>
                            <li class="attribute-item required">updated_at (Date) - Updated</li>
                        </ul>
                    </div>
                    
                    <div class="entity-card secondary">
                        <div class="entity-header">
                            <div class="entity-name">STAFF_CREDENTIALS</div>
                            <div class="entity-type">Secondary Entity</div>
                        </div>
                        <ul class="attributes-list">
                            <li class="attribute-item pk">credential_id (ObjectId) - Primary Key</li>
                            <li class="attribute-item fk">medical_staff_id (ObjectId) - Staff Reference</li>
                            <li class="attribute-item required">credential_type (String) - Type</li>
                            <li class="attribute-item required">credential_number (String) - Number</li>
                            <li class="attribute-item required">issuing_authority (String) - Authority</li>
                            <li class="attribute-item required">issue_date (Date) - Issue Date</li>
                            <li class="attribute-item required">expiry_date (Date) - Expiry Date</li>
                            <li class="attribute-item required">status (String) - Status</li>
                            <li class="attribute-item optional">document_url (String) - Document</li>
                            <li class="attribute-item required">created_at (Date) - Created</li>
                            <li class="attribute-item required">updated_at (Date) - Updated</li>
                        </ul>
                    </div>
                    
                    <div class="entity-card secondary">
                        <div class="entity-header">
                            <div class="entity-name">STAFF_TRAINING</div>
                            <div class="entity-type">Secondary Entity</div>
                        </div>
                        <ul class="attributes-list">
                            <li class="attribute-item pk">training_id (ObjectId) - Primary Key</li>
                            <li class="attribute-item fk">medical_staff_id (ObjectId) - Staff Reference</li>
                            <li class="attribute-item required">training_name (String) - Name</li>
                            <li class="attribute-item required">training_type (String) - Type</li>
                            <li class="attribute-item required">training_provider (String) - Provider</li>
                            <li class="attribute-item required">training_date (Date) - Date</li>
                            <li class="attribute-item required">expiry_date (Date) - Expiry</li>
                            <li class="attribute-item required">certificate_number (String) - Certificate</li>
                            <li class="attribute-item required">status (String) - Status</li>
                            <li class="attribute-item optional">notes (String) - Notes</li>
                            <li class="attribute-item required">created_at (Date) - Created</li>
                            <li class="attribute-item required">updated_at (Date) - Updated</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2>üì¶ Inventory & Support Entities</h2>
                <div class="entity-grid">
                    <div class="entity-card support">
                        <div class="entity-header">
                            <div class="entity-name">INVENTORY</div>
                            <div class="entity-type">Support Entity</div>
                        </div>
                        <ul class="attributes-list">
                            <li class="attribute-item pk">inventory_id (ObjectId) - Primary Key</li>
                            <li class="attribute-item required">item_code (String) - Item Code</li>
                            <li class="attribute-item required">item_name (String) - Name</li>
                            <li class="attribute-item required">category (String) - Category</li>
                            <li class="attribute-item required">brand (String) - Brand</li>
                            <li class="attribute-item required">model (String) - Model</li>
                            <li class="attribute-item required">specifications (String) - Specs</li>
                            <li class="attribute-item required">quantity_available (Number) - Available</li>
                            <li class="attribute-item required">quantity_reserved (Number) - Reserved</li>
                            <li class="attribute-item required">unit_price (Number) - Price</li>
                            <li class="attribute-item required">supplier (String) - Supplier</li>
                            <li class="attribute-item required">location (String) - Location</li>
                            <li class="attribute-item required">status (String) - Status</li>
                            <li class="attribute-item optional">notes (String) - Notes</li>
                            <li class="attribute-item required">created_at (Date) - Created</li>
                            <li class="attribute-item required">updated_at (Date) - Updated</li>
                        </ul>
                    </div>
                    
                    <div class="entity-card support">
                        <div class="entity-header">
                            <div class="entity-name">SCHOOLS</div>
                            <div class="entity-type">Support Entity</div>
                        </div>
                        <ul class="attributes-list">
                            <li class="attribute-item pk">school_id (ObjectId) - Primary Key</li>
                            <li class="attribute-item required">school_code (String) - Code</li>
                            <li class="attribute-item required">school_name (String) - Name</li>
                            <li class="attribute-item required">school_type (String) - Type</li>
                            <li class="attribute-item required">address (String) - Address</li>
                            <li class="attribute-item required">city (String) - City</li>
                            <li class="attribute-item required">district (String) - District</li>
                            <li class="attribute-item required">contact_person (String) - Contact</li>
                            <li class="attribute-item required">contact_phone (String) - Phone</li>
                            <li class="attribute-item required">contact_email (String) - Email</li>
                            <li class="attribute-item required">total_students (Number) - Students</li>
                            <li class="attribute-item required">status (String) - Status</li>
                            <li class="attribute-item required">created_at (Date) - Created</li>
                            <li class="attribute-item required">updated_at (Date) - Updated</li>
                        </ul>
                    </div>
                    
                    <div class="entity-card support">
                        <div class="entity-header">
                            <div class="entity-name">USERS</div>
                            <div class="entity-type">Support Entity</div>
                        </div>
                        <ul class="attributes-list">
                            <li class="attribute-item pk">user_id (ObjectId) - Primary Key</li>
                            <li class="attribute-item required">username (String) - Username</li>
                            <li class="attribute-item required">email (String) - Email</li>
                            <li class="attribute-item required">password_hash (String) - Password</li>
                            <li class="attribute-item required">role (String) - Role</li>
                            <li class="attribute-item fk">medical_staff_id (ObjectId) - Staff Reference</li>
                            <li class="attribute-item required">is_active (Boolean) - Active</li>
                            <li class="attribute-item required">last_login (Date) - Last Login</li>
                            <li class="attribute-item required">created_at (Date) - Created</li>
                            <li class="attribute-item required">updated_at (Date) - Updated</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2>üîó Entity Relationships</h2>
                <div class="relationships">
                    <h3>üìä Relationship Mapping:</h3>
                    <div class="relationship-grid">
                        <div class="relationship-card">
                            <div class="relationship-title">PATIENTS ‚Üí SCREENINGS</div>
                            <div class="relationship-details">One-to-Many: One patient can have multiple screenings</div>
                            <p><strong>Foreign Key:</strong> screening.patient_id ‚Üí patient.patient_id</p>
                        </div>
                        
                        <div class="relationship-card">
                            <div class="relationship-title">SCREENINGS ‚Üí PRESCRIPTIONS</div>
                            <div class="relationship-details">One-to-One: One screening can have one prescription</div>
                            <p><strong>Foreign Key:</strong> prescription.screening_id ‚Üí screening.screening_id</p>
                        </div>
                        
                        <div class="relationship-card">
                            <div class="relationship-title">PRESCRIPTIONS ‚Üí DELIVERIES</div>
                            <div class="relationship-details">One-to-One: One prescription can have one delivery</div>
                            <p><strong>Foreign Key:</strong> delivery.prescription_id ‚Üí prescription.prescription_id</p>
                        </div>
                        
                        <div class="relationship-card">
                            <div class="relationship-title">MEDICAL_STAFF ‚Üí SCREENINGS</div>
                            <div class="relationship-details">One-to-Many: One staff can perform multiple screenings</div>
                            <p><strong>Foreign Key:</strong> screening.medical_staff_id ‚Üí medical_staff.medical_staff_id</p>
                        </div>
                        
                        <div class="relationship-card">
                            <div class="relationship-title">MEDICAL_STAFF ‚Üí STAFF_CREDENTIALS</div>
                            <div class="relationship-details">One-to-Many: One staff can have multiple credentials</div>
                            <p><strong>Foreign Key:</strong> staff_credentials.medical_staff_id ‚Üí medical_staff.medical_staff_id</p>
                        </div>
                        
                        <div class="relationship-card">
                            <div class="relationship-title">MEDICAL_STAFF ‚Üí STAFF_TRAINING</div>
                            <div class="relationship-details">One-to-Many: One staff can have multiple training records</div>
                            <p><strong>Foreign Key:</strong> staff_training.medical_staff_id ‚Üí medical_staff.medical_staff_id</p>
                        </div>
                        
                        <div class="relationship-card">
                            <div class="relationship-title">INVENTORY ‚Üí DELIVERIES</div>
                            <div class="relationship-details">One-to-Many: One inventory item can be used in multiple deliveries</div>
                            <p><strong>Foreign Key:</strong> delivery.inventory_id ‚Üí inventory.inventory_id</p>
                        </div>
                        
                        <div class="relationship-card">
                            <div class="relationship-title">MEDICAL_STAFF ‚Üí USERS</div>
                            <div class="relationship-details">One-to-One: One staff can have one user account</div>
                            <p><strong>Foreign Key:</strong> user.medical_staff_id ‚Üí medical_staff.medical_staff_id</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2>üîÑ Clinical Pathway Flow</h2>
                <div class="flow-diagram">
                    <h3>üìã Complete Clinical Workflow:</h3>
                    
                    <div class="flow-step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <div class="step-title">Patient Registration</div>
                            <div class="step-description">Capture student and parent information, medical history, and contact details. Create patient record in PATIENTS table.</div>
                        </div>
                    </div>
                    
                    <div class="arrow">‚Üì</div>
                    
                    <div class="flow-step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <div class="step-title">Vision Screening</div>
                            <div class="step-description">Medical staff conducts visual acuity testing for both eyes. Record results in SCREENINGS table with detailed measurements.</div>
                        </div>
                    </div>
                    
                    <div class="arrow">‚Üì</div>
                    
                    <div class="flow-step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <div class="step-title">Prescription Generation</div>
                            <div class="step-description">Based on screening results, generate optical prescription with sphere, cylinder, and axis values for both eyes.</div>
                        </div>
                    </div>
                    
                    <div class="arrow">‚Üì</div>
                    
                    <div class="flow-step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <div class="step-title">Glasses Selection</div>
                            <div class="step-description">Check inventory availability, select appropriate glasses based on prescription, and reserve items from INVENTORY table.</div>
                        </div>
                    </div>
                    
                    <div class="arrow">‚Üì</div>
                    
                    <div class="flow-step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <div class="step-title">Delivery Planning</div>
                            <div class="step-description">Schedule delivery to school, coordinate with school contact, and create delivery record in DELIVERIES table.</div>
                        </div>
                    </div>
                    
                    <div class="arrow">‚Üì</div>
                    
                    <div class="flow-step">
                        <div class="step-number">6</div>
                        <div class="step-content">
                            <div class="step-title">Delivery Execution</div>
                            <div class="step-description">Deliver glasses to school, obtain signature confirmation, and update delivery status to completed.</div>
                        </div>
                    </div>
                    
                    <div class="arrow">‚Üì</div>
                    
                    <div class="flow-step">
                        <div class="step-number">7</div>
                        <div class="step-content">
                            <div class="step-title">Follow-up & Monitoring</div>
                            <div class="step-description">Track patient outcomes, schedule follow-up screenings, and maintain comprehensive patient care records.</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p><strong>EVEP Mobile Reflection Unit - Complete ER Diagram</strong></p>
            <p>Document Version: 1.0 | Last Updated: August 30, 2024 | Next Review: November 2024</p>
            <p>This document provides a comprehensive Entity-Relationship Diagram for the EVEP Mobile Reflection Unit system, including all entities, attributes, relationships, and clinical workflow.</p>
            <p><strong>Status: üü¢ LIVE - All Systems Operational | Production Server: 103.22.182.146:2222</strong></p>
            <p><strong>Implementation Status: ‚úÖ Complete | Ready for Production Use</strong></p>
        </div>
    </div>
</body>
</html>
